"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[224],{2270:(ce,j,s)=>{s.d(j,{f:()=>T});var Z=s(1135),b=s(8505),C=s(5698),J=s(4004),x=s(3900),y=s(2843),X=s(9646),f=s(9300),Q=s(2340),k=s(4650),L=s(529),G=s(7495),ee=s(9132);class T{constructor(c,p,u){this._httpClient=c,this._userService=p,this._router=u,this._pagination=new Z.X(null),this._persona=new Z.X(null),this._personalInfo=new Z.X(null),this._personas=new Z.X(null),this._puestos=new Z.X(null),this._membresias=new Z.X(null),this._profiles=new Z.X(null),this._ventas=new Z.X(null),this._regimenes=new Z.X(null),this._usosCFDI=new Z.X(null),this._apiHost=Q.N.apiUrl+"/core/v1",this._apiHostBusiness=Q.N.apiUrl+"/business/v1",this.puestosL=!1,this.perfilesL=!1,this.membresiasL=!1,this.initL=!1,this.regimenesL=!1,this.usosL=!1,this.producto=null,this.clientes="false",this.url="clientes",this.esCliente=!0,this.urlDestino=""}get pagination$(){return this._pagination.asObservable()}get mapKey(){return this.keyMap}get ventas$(){return this._ventas.asObservable()}get persona$(){return this._persona.asObservable()}get personalInfo$(){return this._personalInfo.asObservable()}get products$(){return this._personas.asObservable()}get profiles$(){return this._profiles.asObservable()}get puestos$(){return this._puestos.asObservable()}get membresias$(){return this._membresias.asObservable()}get regimenes$(){return this._regimenes.asObservable()}get usosCFDI$(){return this._usosCFDI.asObservable()}init(c=0,p=10,u="name",h="asc",m=""){if(this.urlDestino.indexOf(this.url)<0&&(this.initL=!1),this.urlDestino.indexOf("cliente")>0?(this.clientes="true",this.esCliente=!0,this.url="clientes"):(this.clientes="false",this.esCliente=!1,this.url="persona"),!this.initL)return this._httpClient.get(this._apiHost+"/adm/cat/personal",{params:{page:""+c,size:""+p,sort:u,order:h,search:m,clientes:this.clientes}}).pipe((0,b.b)(I=>{this.initL=!0,this._pagination.next(I.paginacion),this._personas.next(I.productos)}))}initWithUrl(c){return this.urlDestino=c,this.init()}getPersonas(c=0,p=10,u="nombre",h="asc",m=""){return this._httpClient.get(this._apiHost+"/adm/cat/personal",{params:{page:""+c,size:""+p,sort:u,order:h,search:m,clientes:this.clientes}}).pipe((0,b.b)(I=>{this._pagination.next(I.paginacion),this._personas.next(I.productos)}))}getPersonaById(c){return this.producto&&this.producto.id===c?this.persona$:this._personas.pipe((0,C.q)(1),(0,J.U)(p=>{const u=p.find(h=>h.id===c)||null;return this._persona.next(u),u}),(0,x.w)(p=>p?(0,X.of)(p):(0,y._)("Could not found product with id of "+c+"!")))}getPersonaByIdOnline(c){return this.persona$.pipe((0,C.q)(1),(0,x.w)(p=>this._httpClient.get(this._apiHost+"/adm/cat/personal/"+c).pipe((0,J.U)(u=>(this.producto=u,this._persona.next(u),u)))))}getMapKey(){return this._httpClient.get(this._apiHost+"/adm/config/map-key")}getPersonalInfoByIdOnline(c){return this.persona$.pipe((0,C.q)(1),(0,x.w)(p=>this._httpClient.get(this._apiHost+"/adm/cat/personal/info-personal/"+c).pipe((0,J.U)(u=>(this._personalInfo.next(u),u)))))}createPersona(){return this.products$.pipe((0,C.q)(1),(0,x.w)(c=>this._httpClient.post(this._apiHost+"/adm/cat/personal",{empresa:this._userService.userO.empresa,cliente:this.esCliente}).pipe((0,J.U)(p=>(null==c&&(c=[]),this._personas.next([p,...c]),p)))))}vaciarPersona(){this._persona.next(null),this._ventas.next(null)}updatePerson(c,p){return p.empresa=this._userService.userO.empresa,this.products$.pipe((0,C.q)(1),(0,x.w)(u=>this._httpClient.patch(this._apiHost+"/adm/cat/personal",p).pipe((0,J.U)(h=>{null==u&&(u=[]);const m=u.findIndex(I=>I.id===c);return u[m]=h,this._personas.next(u),h}),(0,x.w)(h=>this.persona$.pipe((0,C.q)(1),(0,f.h)(m=>m&&m.id===c),(0,b.b)(()=>(this._persona.next(h),h)))))))}updateCliente(c,p){return p.empresa=this._userService.userO.empresa,this._httpClient.patch(this._apiHost+"/adm/cat/personal",p)}deletePersona(c){return this.products$.pipe((0,C.q)(1),(0,x.w)(p=>this._httpClient.delete(this._apiHost+"/adm/cat/personal/"+c).pipe((0,J.U)(u=>{const h=p.findIndex(m=>m.id===c);return p.splice(h,1),this._personas.next(p),u}))))}getProfiles(){if(!this.perfilesL)return this._httpClient.get(this._apiHost+"/adm/cat/personal/pf").pipe((0,b.b)(c=>{this.perfilesL=!0,this._profiles.next(c)}))}getZipCode(c){return this._httpClient.get("https://data.opendatasoft.com/api/records/1.0/search/?dataset=geonames-postal-code%40public&q="+c+"&facet=country_code&facet=admin_name1&facet=admin_code1&facet=admin_name2&refine.country_code=MX")}getPuestos(){if(!this.puestosL)return this._httpClient.get(this._apiHost+"/adm/cat/puestos-list").pipe((0,b.b)(c=>{this.puestosL=!0,this._puestos.next(c)}))}getMebresias(){if(!this.membresiasL)return this._httpClient.get(this._apiHost+"/adm/cat/membresias-list").pipe((0,b.b)(c=>{this.membresiasL=!0,this._membresias.next(c)}))}getRegimenes(){if(!this.regimenesL)return this._httpClient.get(this._apiHost+"/adm/cat/sat/regimenes").pipe((0,b.b)(c=>{this.regimenesL=!0,this._regimenes.next(c)}))}getUsosCFDI(){if(!this.usosL)return this._httpClient.get(this._apiHost+"/adm/cat/sat/usos-cfdi").pipe((0,b.b)(c=>{this.usosL=!0,this._usosCFDI.next(c)}))}getVentas(c){return this._httpClient.get(this._apiHostBusiness+"/opr/clientes/"+c+"/ventas/").pipe((0,b.b)(p=>{this._ventas.next(p)}))}}T.\u0275fac=function(c){return new(c||T)(k.LFG(L.eN),k.LFG(G.K),k.LFG(ee.F0))},T.\u0275prov=k.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})},224:(ce,j,s)=>{s.r(j),s.d(j,{PersonalModule:()=>B});var Z=s(8277),b=s(3238),C=s(148),J=s(4850),x=s(7392),y=s(9818),X=s(74),f=s(8455),Q=s(9203),k=s(3239),L=s(7686),G=s(1256),ee=s(8256),T=s(5208),S=s(2793),c=s(5754),p=s(7462),u=s(3267),h=s(6308),m=s(9132),I=s(7775),e=s(4650);class M{constructor(){}}M.\u0275fac=function(n){return new(n||M)},M.\u0275cmp=e.Xpm({type:M,selectors:[["inventory"]],decls:1,vars:0,template:function(n,t){1&n&&e._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2,changeDetection:0});var a=s(4006),P=s(7579),F=s(2722),le=s(8372),oe=s(3900),ie=s(4004),me=s(6451),pe=s(8288),z=s(2287),q=s(2270),ue=s(7495),_=s(6895);function de(o,n){1&o&&(e.TgZ(0,"div",16),e._UZ(1,"mat-progress-bar",17),e.qZA()),2&o&&(e.xp6(1),e.Q6J("mode","indeterminate"))}function ge(o,n){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",32),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function fe(o,n){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",33),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}const _e=function(o){return["/opr/expedientes",o]};function he(o,n){if(1&o&&(e.ynx(0),e._uU(1," \xa0 \xa0 "),e.TgZ(2,"button",30),e._UZ(3,"mat-icon",31),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.oxw(4),e.xp6(2),e.Q6J("routerLink",e.VKq(2,_e,t.id)),e.xp6(1),e.Q6J("svgIcon","medical_services")}}function ve(o,n){1&o&&e.GkF(0)}const xe=function(o){return{$implicit:o}};function Ze(o,n){if(1&o&&(e.ynx(0),e.YNc(1,ve,1,0,"ng-container",34),e.BQk()),2&o){const t=e.oxw().$implicit;e.oxw(4);const i=e.MAs(18);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,xe,t))}}const be=function(o){return["./",o]};function Ce(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",26)(2,"div",27),e._uU(3),e.qZA(),e.TgZ(4,"div",27),e._uU(5),e.qZA(),e.TgZ(6,"div",28),e._uU(7),e.qZA(),e.TgZ(8,"div"),e.YNc(9,ge,2,1,"ng-container",13),e.YNc(10,fe,2,1,"ng-container",13),e.qZA(),e.TgZ(11,"div",29)(12,"button",30),e._UZ(13,"mat-icon",31),e.qZA(),e.YNc(14,he,4,4,"ng-container",13),e.qZA()(),e.TgZ(15,"div",19),e.YNc(16,Ze,2,4,"ng-container",13),e.qZA(),e.BQk()),2&o){const t=n.$implicit,i=e.oxw(4);e.xp6(3),e.HOy(" ",t.nombre," ",t.segundoNombre," ",t.apellidoPaterno," ",t.apellidoMaterno," "),e.xp6(2),e.hij(" ",t.curp," "),e.xp6(2),e.hij(" ",t.idExterno," "),e.xp6(2),e.Q6J("ngIf",t.activo),e.xp6(1),e.Q6J("ngIf",!t.activo),e.xp6(2),e.Q6J("routerLink",e.VKq(12,be,t.id)),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(1),e.Q6J("ngIf",i.habilitaOptico),e.xp6(2),e.Q6J("ngIf",(null==i.selectedProduct?null:i.selectedProduct.id)===t.id)}}function Te(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Ce,17,14,"ng-container",25),e.BQk()),2&o){const t=n.ngIf,i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",i.trackByFn)}}const Ae=function(o){return{"pointer-events-none":o}},ye=function(){return[5,10,25,100]};function Ue(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",19)(2,"div",20)(3,"div",21),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",21),e._uU(6," CURP "),e.qZA(),e.TgZ(7,"div",22),e._uU(8," Id "),e.qZA(),e.TgZ(9,"div",21),e._uU(10," Activo "),e.qZA(),e.TgZ(11,"div",23),e._uU(12,"Detalles"),e.qZA()(),e.YNc(13,Te,2,2,"ng-container",13),e.ALo(14,"async"),e.qZA(),e._UZ(15,"mat-paginator",24),e.BQk()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("mat-sort-header","Nombre"),e.xp6(2),e.Q6J("mat-sort-header","curp"),e.xp6(2),e.Q6J("mat-sort-header","observaciones"),e.xp6(2),e.Q6J("mat-sort-header","activo"),e.xp6(4),e.Q6J("ngIf",e.lcZ(14,11,t.products$)),e.xp6(2),e.Q6J("ngClass",e.VKq(13,Ae,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(15,ye))("showFirstLastButtons",!0)}}function Qe(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Ue,16,16,"ng-container",18),e.BQk()),2&o){const t=n.ngIf;e.oxw();const i=e.MAs(20);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",i)}}function Ie(o,n){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",52),e.TgZ(2,"span",53),e._uU(3,"Registro actualizado"),e.qZA(),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:check"))}function Je(o,n){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",54),e.TgZ(2,"span",53),e._uU(3,"Hubo un error, intenta otra vez!"),e.qZA(),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"))}function Fe(o,n){if(1&o&&(e.TgZ(0,"div",51),e.YNc(1,Ie,4,1,"ng-container",13),e.YNc(2,Je,4,1,"ng-container",13),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","success"===t.flashMessage),e.xp6(1),e.Q6J("ngIf","error"===t.flashMessage)}}function qe(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"form",37)(3,"div",38)(4,"div",39)(5,"div",40)(6,"mat-form-field",41)(7,"mat-label"),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",42),e.qZA(),e.TgZ(10,"mat-form-field",41)(11,"mat-label"),e._uU(12,"Observaciones"),e.qZA(),e.TgZ(13,"textarea",42),e._uU(14,"                                                "),e.qZA()()(),e.TgZ(15,"div",40)(16,"mat-form-field",43)(17,"mat-label"),e._uU(18,"CURP"),e.qZA(),e._UZ(19,"input",42),e.qZA(),e.TgZ(20,"span",44),e._uU(21,"Status"),e.qZA(),e.TgZ(22,"mat-slide-toggle",45),e._uU(23),e.qZA()()()(),e.TgZ(24,"div",46)(25,"button",47),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteSelectedProduct())}),e._uU(26," Eliminar "),e.qZA(),e.TgZ(27,"div",48),e.YNc(28,Fe,3,2,"div",49),e.TgZ(29,"button",50),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updateSelectedProduct())}),e._uU(30," Actualizar "),e.qZA()()()()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.selectedProductForm),e.xp6(7),e.Q6J("formControlName","nombre"),e.xp6(4),e.Q6J("formControlName","observaciones"),e.xp6(6),e.Q6J("formControlName","curp"),e.xp6(3),e.Q6J("formControlName","activo")("color","primary"),e.xp6(1),e.hij(" ",!0===t.selectedProductForm.get("activo").value?"Activo":"Inactivo"," "),e.xp6(2),e.Q6J("color","warn"),e.xp6(3),e.Q6J("ngIf",t.flashMessage),e.xp6(1),e.Q6J("color","primary")}}function we(o,n){1&o&&(e.TgZ(0,"div",55),e._uU(1,"No hay registros! "),e.qZA())}class O{constructor(n,t,i,r,l,d,v){this._changeDetectorRef=n,this._fuseConfirmationService=t,this._formBuilder=i,this._personalService=r,this._userService=l,this._router=d,this._activatedRoute=v,this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new a.NI,this.selectedProduct=null,this.tagsEditMode=!1,this._unsubscribeAll=new P.x,this.habilitaOptico=!1,this.habilitaOptico=l.userO.empresa?.negocios?.includes("OPTICO")}ngOnInit(){this.selectedProductForm=this._formBuilder.group({id:[""],nombre:["",[a.kI.required]],rfc:[""],observaciones:[""],activo:[!1]}),this._personalService.pagination$.pipe((0,F.R)(this._unsubscribeAll)).subscribe(n=>{this.pagination=n,this._changeDetectorRef.markForCheck()}),this.products$=this._personalService.products$,this.searchInputControl.valueChanges.pipe((0,F.R)(this._unsubscribeAll),(0,le.b)(300),(0,oe.w)(n=>(this.isLoading=!0,this._personalService.getPersonas(0,10,"name","asc",n))),(0,ie.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,F.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,me.T)(this._sort.sortChange,this._paginator.page).pipe((0,oe.w)(()=>(this.isLoading=!0,this._personalService.getPersonas(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,ie.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createProduct(){this._personalService.createPersona().subscribe(n=>{this.selectedProduct=n,this.selectedProductForm.patchValue(n),this._changeDetectorRef.markForCheck(),this._router.navigate([n.id],{relativeTo:this._activatedRoute})})}showFlashMessage(n){this.flashMessage=n,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.flashMessage=null,this._changeDetectorRef.markForCheck()},3e3)}trackByFn(n,t){return t.id||n}}O.\u0275fac=function(n){return new(n||O)(e.Y36(e.sBO),e.Y36(z.R),e.Y36(a.qu),e.Y36(q.f),e.Y36(ue.K),e.Y36(m.F0),e.Y36(m.gz))},O.\u0275cmp=e.Xpm({type:O,selectors:[["personal-list"]],viewQuery:function(n,t){if(1&n&&(e.Gf(L.cl,5),e.Gf(h.YE,5)),2&n){let i;e.iGM(i=e.CRH())&&(t._paginator=i.first),e.iGM(i=e.CRH())&&(t._sort=i.first)}},decls:22,vars:10,consts:[[1,"sm:absolute","sm:inset-0","flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],[4,"ngIf"],["rowDetailsTemplate",""],["noProducts",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"personal-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,"hidden","sm:block",3,"mat-sort-header"],[1,"hidden","sm:block"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"personal-grid","grid","items-center","gap-4","py-3","px-6","md:px-8","border-b"],[1,"truncate"],[1,"hidden","sm:block","truncate"],[1,"flex","flex-row","mr-4"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"routerLink"],[1,"icon-size-5",3,"svgIcon"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"shadow-lg","overflow-hidden"],[1,"flex","border-b"],[1,"flex","flex-col","w-full",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","p-8"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full","lg:w-2/4","sm:pl-8"],[1,"w-full"],["matInput","",3,"formControlName"],[1,"w-2/3","pl-2"],[1,"font-semibold","mb-2"],[3,"formControlName","color"],[1,"flex","items-center","justify-between","w-full","border-t","px-8","py-4"],["mat-button","",1,"-ml-4",3,"color","click"],[1,"flex","items-center"],["class","flex items-center mr-4",4,"ngIf"],["mat-flat-button","",3,"color","click"],[1,"flex","items-center","mr-4"],[1,"text-green-500",3,"svgIcon"],[1,"ml-2"],[1,"text-red-500",3,"svgIcon"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,de,2,1,"div",2),e.TgZ(3,"div",3),e._uU(4,"Personas"),e.qZA(),e.TgZ(5,"div",4)(6,"mat-form-field",5),e._UZ(7,"mat-icon",6)(8,"input",7),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){return t.createProduct()}),e._UZ(10,"mat-icon",9),e.TgZ(11,"span",10),e._uU(12,"Nuevo"),e.qZA()()()(),e.TgZ(13,"div",11)(14,"div",12),e.YNc(15,Qe,2,2,"ng-container",13),e.ALo(16,"async"),e.YNc(17,qe,31,10,"ng-template",null,14,e.W1O),e.YNc(19,we,2,0,"ng-template",null,15,e.W1O),e.qZA()()(),e._UZ(21,"router-outlet")),2&n&&(e.xp6(2),e.Q6J("ngIf",t.isLoading),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:search"),e.xp6(1),e.Q6J("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar"),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("ngIf",e.lcZ(16,8,t.products$)))},dependencies:[m.lC,m.rH,y.eB,f.v_,f.$V,f.g4,x.Hw,Q.k0,L.cl,G.eI,h.YE,h.nU,S.iZ,_.mk,_.sg,_.O5,_.tP,a._Y,a.Fj,a.JJ,a.JL,a.oH,a.sg,a.u,_.Ov],styles:[".personal-grid{grid-template-columns:150px auto 40px 70px}@media (min-width: 600px){.personal-grid{grid-template-columns:auto 120px 100px 40px 80px}}@media (min-width: 960px){.personal-grid{grid-template-columns:180px 160px auto 48px 80px}}@media (min-width: 1280px){.personal-grid{grid-template-columns:200px 160px auto 100px 96px}}\n"],encapsulation:2,data:{animation:pe.L},changeDetection:0});var w=s(9309),Ne=s(4880),se=s(9349),K=s(4363);function Se(o,n){1&o&&(e.TgZ(0,"div",35)(1,"div",36)(2,"div",37),e._uU(3,"Es cliente"),e.qZA(),e.TgZ(4,"div",38),e._uU(5," Habilite esta opci\xf3n para vender "),e.qZA()(),e._UZ(6,"mat-slide-toggle",39),e.qZA()),2&o&&(e.xp6(6),e.Q6J("color","primary")("formControlName","cliente"))}function Pe(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",16),e._uU(2),e.qZA(),e.BQk()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.membresia," - ",t.descripcion," ")}}const ke=function(){return["../"]};class E{constructor(n,t,i){this._formBuilder=n,this._activatedRoute=t,this._personalService=i,this.selectedPersona=null,this._unsubscribeAll=new P.x}ngOnInit(){this.esCliente=this._personalService.esCliente,this.accountForm=this._formBuilder.group({id:[""],idExterno:["hughes.brian@mail.com",a.kI.email],nombre:[""],segundoNombre:[""],apellidoPaterno:[""],apellidoMaterno:[""],fechaNacimiento:[""],fechaIngreso:[""],rfc:[""],curp:[""],ine:[""],sexo:[""],status:[""],estadoCivil:[""],escolaridad:[""],titulo:[""],ocupacion:[""],tipoPersona:[""],membresia:[""],empresa:[""],cliente:[!1],observaciones:["Hey! This is Brian; husband, father and gamer. I'm mostly passionate about bleeding edge tech and chocolate! \u{1f36b}"]});let n=this._activatedRoute.snapshot.paramMap.get("id");this._personalService.persona$.subscribe(t=>{null===t?this._personalService.getPersonaByIdOnline(n).subscribe(i=>{this.selectedPersona=i,this.accountForm.reset(),this.accountForm.patchValue(i)}):(this.selectedPersona=t,this.accountForm.reset(),this.accountForm.patchValue(t))}),this._personalService.membresias$.pipe((0,F.R)(this._unsubscribeAll)).subscribe(t=>{this.membresias=t})}updateSelected(){const n=this.accountForm.getRawValue();Object.assign(this.selectedPersona,n),this._personalService.updatePerson(n.id,this.selectedPersona).subscribe(()=>{})}}function ae(o,n,t,i,r,l,d){try{var v=o[l](d),U=v.value}catch(g){return void t(g)}v.done?n(U):Promise.resolve(U).then(i,r)}E.\u0275fac=function(n){return new(n||E)(e.Y36(a.qu),e.Y36(m.gz),e.Y36(q.f))},E.\u0275cmp=e.Xpm({type:E,selectors:[["settings-info"]],decls:159,vars:61,consts:[[1,"w-full","max-w-5xl"],[3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"grid","grid-cols-10","gap-2","md:gap-4","w-full","mt-8"],[1,"col-span-10","sm:col-span-2"],[1,"fuse-mat-no-subscript","w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName"],[1,"col-span-5","sm:col-span-4"],[1,"col-span-5","sm:col-span-5"],["matInput","",3,"formControlName","value","pattern"],["input",""],["type","email","placeholder","Correo de identificacion (de Gmail)","matInput","",3,"formControlName"],[3,"formControlName"],[3,"value"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"matDatepicker","formControlName","placeholder"],["matSuffix","",3,"for"],["birthdayDatepicker",""],[1,"my-10","border-t"],[1,"grid","grid-cols-6","sm:grid-cols-10","gap-2","w-full","mt-8"],[1,"col-span-3","sm:col-span-5"],["class","col-span-6 sm:col-span-10 flex items-center justify-between",4,"ngIf"],["fingreso",""],[4,"ngFor","ngForOf"],[1,"mt-1","text-md","text-hint"],[1,"col-span-10","sm:col-span-10"],[1,"fuse-mat-textarea","fuse-mat-no-subscript","w-full"],["matInput","","cdkTextareaAutosize","",3,"formControlName","cdkAutosizeMinRows"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["mat-stroked-button","","type","button",3,"routerLink"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"],[1,"col-span-6","sm:col-span-10","flex","items-center","justify-between"],[1,"flex-auto","cursor-pointer"],[1,"leading-6","font-medium"],[1,"text-md","text-secondary"],[1,"ml-4",3,"color","formControlName"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e._uU(4,"Datos personales"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"Informacion general del personal"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),e._uU(11,"Titulo"),e.qZA(),e._UZ(12,"mat-icon",8)(13,"input",9),e.qZA()(),e.TgZ(14,"div",10)(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Nombre"),e.qZA(),e._UZ(18,"mat-icon",8)(19,"input",9),e.qZA()(),e.TgZ(20,"div",10)(21,"mat-form-field",7)(22,"mat-label"),e._uU(23,"Segundo nombre"),e.qZA(),e._UZ(24,"mat-icon",8)(25,"input",9),e.qZA()(),e.TgZ(26,"div",11)(27,"mat-form-field",7)(28,"mat-label"),e._uU(29,"Apellido paterno"),e.qZA(),e._UZ(30,"mat-icon",8)(31,"input",9),e.qZA()(),e.TgZ(32,"div",11)(33,"mat-form-field",7)(34,"mat-label"),e._uU(35,"Apellido materno"),e.qZA(),e._UZ(36,"mat-icon",8)(37,"input",9),e.qZA()(),e.TgZ(38,"div",11)(39,"mat-form-field",7)(40,"mat-label"),e._uU(41,"CURP"),e.qZA(),e._UZ(42,"mat-icon",8)(43,"input",12,13),e.qZA()(),e.TgZ(45,"div",11)(46,"mat-form-field",7)(47,"mat-label"),e._uU(48,"Correo electr\xf3nico"),e.qZA(),e._UZ(49,"mat-icon",8)(50,"input",14),e.qZA()(),e.TgZ(51,"div",11)(52,"mat-form-field",7)(53,"mat-label"),e._uU(54,"Estado civil"),e.qZA(),e._UZ(55,"mat-icon",8),e.TgZ(56,"mat-select",15)(57,"mat-option",16),e._uU(58,"Soltero"),e.qZA(),e.TgZ(59,"mat-option",16),e._uU(60,"Casado"),e.qZA(),e.TgZ(61,"mat-option",16),e._uU(62,"Union Libre"),e.qZA(),e.TgZ(63,"mat-option",16),e._uU(64,"Divorciado"),e.qZA(),e.TgZ(65,"mat-option",16),e._uU(66,"Viudo"),e.qZA(),e.TgZ(67,"mat-option",16),e._uU(68,"No Especificar"),e.qZA()()()(),e.TgZ(69,"div",11)(70,"mat-form-field",7)(71,"mat-label"),e._uU(72,"Escolaridad"),e.qZA(),e._UZ(73,"mat-icon",8),e.TgZ(74,"mat-select",15)(75,"mat-option",16),e._uU(76,"Primaria"),e.qZA(),e.TgZ(77,"mat-option",16),e._uU(78,"Secundaria"),e.qZA(),e.TgZ(79,"mat-option",16),e._uU(80,"Preparatoria"),e.qZA(),e.TgZ(81,"mat-option",16),e._uU(82,"Licenciatura"),e.qZA(),e.TgZ(83,"mat-option",16),e._uU(84,"Maestria"),e.qZA(),e.TgZ(85,"mat-option",16),e._uU(86,"Doctorado"),e.qZA()()()(),e.TgZ(87,"div",11)(88,"mat-form-field",7)(89,"mat-label"),e._uU(90,"Fecha de nacimiento"),e.qZA(),e._UZ(91,"mat-icon",17)(92,"input",18)(93,"mat-datepicker-toggle",19)(94,"mat-datepicker",null,20),e.qZA()(),e.TgZ(96,"div",11)(97,"mat-form-field",7)(98,"mat-label"),e._uU(99,"Sexo"),e.qZA(),e._UZ(100,"mat-icon",8),e.TgZ(101,"mat-select",15)(102,"mat-option",16),e._uU(103,"Masculino"),e.qZA(),e.TgZ(104,"mat-option",16),e._uU(105,"Femenino"),e.qZA(),e.TgZ(106,"mat-option",16),e._uU(107,"No especificar"),e.qZA()()()()(),e._UZ(108,"div",21),e.TgZ(109,"div",2)(110,"div",3),e._uU(111,"Informaci\xf3n complementaria"),e.qZA(),e.TgZ(112,"div",4),e._uU(113,"Algunos datos complementarios dentro del sistema. "),e.qZA()(),e.TgZ(114,"div",22)(115,"div",23)(116,"mat-form-field",7)(117,"mat-label"),e._uU(118,"Ocupaci\xf3n"),e.qZA(),e._UZ(119,"mat-icon",8)(120,"input",9),e.qZA()(),e.TgZ(121,"div",23)(122,"mat-form-field",7)(123,"mat-label"),e._uU(124,"INE"),e.qZA(),e._UZ(125,"mat-icon",8)(126,"input",9),e.qZA()(),e.YNc(127,Se,7,2,"div",24),e.TgZ(128,"div",11)(129,"mat-form-field",7)(130,"mat-label"),e._uU(131,"Fecha de ingreso"),e.qZA(),e._UZ(132,"mat-icon",17)(133,"input",18)(134,"mat-datepicker-toggle",19)(135,"mat-datepicker",null,25),e.qZA()(),e.TgZ(137,"div",11)(138,"mat-form-field",7)(139,"mat-label"),e._uU(140,"Asigne membresia"),e.qZA(),e._UZ(141,"mat-icon",8),e.TgZ(142,"mat-select",15),e.YNc(143,Pe,3,3,"ng-container",26),e.qZA()(),e.TgZ(144,"div",27),e._uU(145,"Membresia que adquirio el cliente."),e.qZA()(),e.TgZ(146,"div",28)(147,"mat-form-field",29)(148,"mat-label"),e._uU(149,"Observaciones"),e.qZA(),e._UZ(150,"textarea",30),e.qZA(),e.TgZ(151,"div",27),e._uU(152,"Observaciones. Se permiten elementos basicos de HTML y Emoji."),e.qZA()()(),e._UZ(153,"div",31),e.TgZ(154,"div",32)(155,"button",33),e._uU(156," Cancelar "),e.qZA(),e.TgZ(157,"button",34),e.NdJ("click",function(){return t.updateSelected()}),e._uU(158,"Guardar "),e.qZA()()()()),2&n){const i=e.MAs(44),r=e.MAs(95),l=e.MAs(136);e.xp6(1),e.Q6J("formGroup",t.accountForm),e.xp6(11),e.Q6J("svgIcon","heroicons_solid:briefcase"),e.xp6(1),e.Q6J("formControlName","titulo"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","nombre"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","segundoNombre"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","apellidoPaterno"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","apellidoMaterno"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","curp")("value",i.value.toUpperCase())("pattern","[A-Z][0-9]*"),e.xp6(6),e.Q6J("svgIcon","heroicons_solid:at-symbol"),e.xp6(1),e.Q6J("formControlName","idExterno"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","estadoCivil"),e.xp6(1),e.Q6J("value","Soltero"),e.xp6(2),e.Q6J("value","Casado"),e.xp6(2),e.Q6J("value","Union Libre"),e.xp6(2),e.Q6J("value","Dovorciado"),e.xp6(2),e.Q6J("value","Viudo"),e.xp6(2),e.Q6J("value","No Especificar"),e.xp6(6),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","escolaridad"),e.xp6(1),e.Q6J("value","Primaria"),e.xp6(2),e.Q6J("value","Secundaria"),e.xp6(2),e.Q6J("value","Preparatoria"),e.xp6(2),e.Q6J("value","Licenciatura"),e.xp6(2),e.Q6J("value","Maestria"),e.xp6(2),e.Q6J("value","Doctorado"),e.xp6(6),e.Q6J("svgIcon","heroicons_solid:cake"),e.xp6(1),e.Q6J("matDatepicker",r)("formControlName","fechaNacimiento")("placeholder","Birthday"),e.xp6(1),e.Q6J("for",r),e.xp6(7),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","sexo"),e.xp6(1),e.Q6J("value","Masculino"),e.xp6(2),e.Q6J("value","Femenino"),e.xp6(2),e.Q6J("value","No especificar"),e.xp6(13),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","ocupacion"),e.xp6(5),e.Q6J("svgIcon","account_box"),e.xp6(1),e.Q6J("formControlName","ine"),e.xp6(1),e.Q6J("ngIf",!t.esCliente),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:cake"),e.xp6(1),e.Q6J("matDatepicker",l)("formControlName","fechaIngreso")("placeholder",""),e.xp6(1),e.Q6J("for",l),e.xp6(7),e.Q6J("svgIcon","card_membership"),e.xp6(1),e.Q6J("formControlName","membresia"),e.xp6(1),e.Q6J("ngForOf",t.membresias),e.xp6(7),e.Q6J("formControlName","observaciones")("cdkAutosizeMinRows",5),e.xp6(5),e.Q6J("routerLink",e.DdM(60,ke)),e.xp6(2),e.Q6J("color","primary")}},dependencies:[m.rH,y.eB,f.v_,f.$V,f.g4,f.nX,x.Hw,se.IC,Q.k0,T.x8,K.CK,S.iZ,_.sg,_.O5,a._Y,a.Fj,a.JJ,a.JL,a.c5,a.sg,a.u,C.Mq,C.hl,C.nW],encapsulation:2,changeDetection:0});const Le=["map"],Me=["search"];function Oe(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",30),e._uU(2),e.qZA(),e.BQk()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("value",t),e.xp6(1),e.hij(" ",t.fields.place_name," ")}}function Ee(o,n){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",33),e.TgZ(2,"span",34),e._uU(3,"Registro actualizado"),e.qZA(),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:check"))}function Re(o,n){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",35),e.TgZ(2,"span",34),e._uU(3,"Hubo un error, intenta otra vez!"),e.qZA(),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"))}function De(o,n){if(1&o&&(e.TgZ(0,"div",31),e.YNc(1,Ee,4,1,"ng-container",32),e.YNc(2,Re,4,1,"ng-container",32),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","success"===t.flashMessage),e.xp6(1),e.Q6J("ngIf","error"===t.flashMessage)}}const Ye=function(){return{standalone:!0}},He=function(){return["../"]};class R{constructor(n,t,i,r,l){this._formBuilder=n,this._activatedRoute=t,this._personalService=i,this._changeDetectorRef=r,this._fuseConfirmationService=l,this.selectedProduct=null,this.flashMessage="",this.colonias=new Array,this.calle="",this.esCliente=!0,this.searchValue=""}ngAfterViewInit(){this.initMap()}ngOnInit(){this.accountForm=this._formBuilder.group({id:[""],direccion:this._formBuilder.group({calle:[""],numeroInterior:[""],codigoPostal:["",a.kI.required],colonia:[""],ciudad:[""],estado:[""],pais:[""],entreCalles:[""],referencias:[""],ubicacion:this._formBuilder.group({type:[""],coordinates:[[]]})})});let n=this._activatedRoute.snapshot.paramMap.get("id");this.esCliente=this._personalService.esCliente,this._personalService.getPersonaById(n).subscribe(t=>{this.selectedProduct=t,this.accountForm.reset(),this.accountForm.patchValue(t);const i={fields:{place_name:t?.direccion?.colonia}};this.colonias.push(i),this.selectedColonia=i,this.searchValue=t?.direccion?.calle})}updateSelected(){const n=this.accountForm.getRawValue();this.selectedProduct.direccion=n.direccion,this._personalService.updatePerson(n.id,this.selectedProduct).subscribe(()=>{this.showFlashMessage("success")})}getZipInfo(n){var t=this;return function Be(o){return function(){var n=this,t=arguments;return new Promise(function(i,r){var l=o.apply(n,t);function d(U){ae(l,i,r,d,v,"next",U)}function v(U){ae(l,i,r,d,v,"throw",U)}d(void 0)})}}(function*(){t._personalService.getZipCode(n).subscribe(i=>{+i.nhits<1?console.log("no hay resultados para el cp "+n):(t.colonias=i.records,t.selectedColonia=t.colonias[0],t.selectColonia(t.colonias[0]))})})()}selectColonia(n){this.selectedColonia=n,this.accountForm.patchValue({direccion:{codigoPostal:this.selectedColonia?.fields.postal_code,colonia:this.selectedColonia?.fields.place_name,ciudad:this.selectedColonia?.fields.admin_name2,estado:this.selectedColonia?.fields.admin_name1}}),this._changeDetectorRef.markForCheck()}showFlashMessage(n){this.flashMessage=n,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.flashMessage=null,this._changeDetectorRef.markForCheck()},3e3)}trackByFn(n,t){return t.id||n}initMap(){const r=new google.maps.places.Autocomplete(this.searchElement.nativeElement,{bounds:{north:50.164192,south:49.964192,east:-130.505469,west:-130.705469},componentRestrictions:{country:"mx"},fields:["address_components","geometry","icon","name"],strictBounds:!1,types:["address"]}),l={center:new google.maps.LatLng(20.541792,-100.488083),zoom:5,mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.mapElement.nativeElement,l);let d=new google.maps.InfoWindow;const v=new google.maps.Marker({map:this.map,anchorPoint:new google.maps.Point(20.541792,-100.488083)});if(this.selectedProduct?.direccion?.ubicacion){const g=new google.maps.LatLng(this.selectedProduct?.direccion?.ubicacion.coordinates[0],this.selectedProduct?.direccion?.ubicacion.coordinates[1]);this.map.zoom=17,d.setPosition(g),d.setContent(this.selectedProduct?.nombre+" "+this.selectedProduct?.apellidoPaterno),d.open(this.map),this.map.setCenter(g),v.setPosition(g),v.setVisible(!0)}google.maps.event.addListener(r,"place_changed",()=>{const g=r.getPlace();if(console.log(g),g.geometry&&g.geometry.location){g.geometry.viewport?this.map.fitBounds(g.geometry.viewport):(this.map.setCenter(g.geometry.location),this.map.setZoom(17)),v.setPosition(g.geometry.location),v.setVisible(!0);let N="",te="";const Rt={direccion:{ubicacion:{type:"Point",coordinates:[g.geometry.location.lat(),g.geometry.location.lng()]}}};this.accountForm.patchValue(Rt),g.address_components.forEach(W=>{W.types.forEach(ne=>{"postal_code"==ne?this.getZipInfo(W.long_name):"street_number"==ne?te=W.long_name:"route"==ne&&(N=W.short_name)})}),this.calle=N+" "+te}else this._fuseConfirmationService.open({title:"Ubicaci\xf3n no v\xe1lida",message:"Escribe y selecciona una direcci\xf3n v\xe1lida",icon:{show:!0,name:"heroicons_outline:exclamation",color:"warning"},actions:{confirm:{show:!0,label:"Remove",color:"accent"},cancel:{show:!1,label:"Cancel"}},dismissible:!0}).afterClosed().subscribe(te=>{})}),this.map.addListener("click",g=>{d.close(),d=new google.maps.InfoWindow({position:g.latLng}),d.setContent("Punto seleccionado"),d.open(this.map);const N={direccion:{ubicacion:{type:"Point",coordinates:[g.latLng.toJSON().lat,g.latLng.toJSON().lng]}}};v.setPosition(g.latLng),v.setVisible(!0),this.accountForm.patchValue(N)});const U=document.createElement("button");U.textContent="Ir a mi ubicacion",U.classList.add("gm-style-mtc"),this.map.controls[google.maps.ControlPosition.TOP_CENTER].push(U),U.addEventListener("click",()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(g=>{const N={lat:g.coords.latitude,lng:g.coords.longitude};this.map.zoom=10,d.setPosition(N),d.setContent("Ubicaci\xf3n localizada."),d.open(this.map),this.map.setCenter(N)},()=>{this.handleLocationError(!0,d,this.map.getCenter())}):this.handleLocationError(!1,d,this.map.getCenter())})}handleLocationError(n,t,i){t.setPosition(i),t.setContent(n?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),t.open(this.map)}}function Ve(o,n){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Contacto"),e.qZA())}function $e(o,n){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Tipo"),e.qZA())}function je(o,n){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Notas"),e.qZA())}R.\u0275fac=function(n){return new(n||R)(e.Y36(a.qu),e.Y36(m.gz),e.Y36(q.f),e.Y36(e.sBO),e.Y36(z.R))},R.\u0275cmp=e.Xpm({type:R,selectors:[["settings-address"]],viewQuery:function(n,t){if(1&n&&(e.Gf(Le,5),e.Gf(Me,5)),2&n){let i;e.iGM(i=e.CRH())&&(t.mapElement=i.first),e.iGM(i=e.CRH())&&(t.searchElement=i.first)}},decls:71,vars:30,consts:[[1,"w-full","max-w-5xl"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[3,"formGroup"],["formGroupName","direccion",1,"grid","grid-cols-4","gap-6","w-full","mt-8"],["matInput","",3,"hidden","formControlName","value","valueChange"],[1,"col-span-3"],[1,"fuse-mat-no-subscript","w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","text","placeholder","Search Location","matInput","",3,"ngModel","ngModelOptions","ngModelChange"],["search",""],[1,"col-span-1"],["matInput","",3,"formControlName"],[1,"col-span-2"],[3,"value","valueChange","selectionChange"],[4,"ngFor","ngForOf"],["matInput","",3,"hidden","formControlName"],[1,"fuse-mat-no-subscript","w-full",3,"floatLabel"],["id","map",1,"col-span-4",2,"height","400px","width","100%"],["map",""],[1,"col-span-4","sm:col-span-2"],[1,"fuse-mat-textarea","fuse-mat-no-subscript","w-full"],["matInput","","cdkTextareaAutosize","",3,"formControlName","cdkAutosizeMinRows"],[1,"mt-1","text-md","text-hint"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["mat-stroked-button","","type","button",3,"routerLink"],["class","flex items-center mr-4",4,"ngIf"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"],[3,"value"],[1,"flex","items-center","mr-4"],[4,"ngIf"],[1,"text-green-500",3,"svgIcon"],[1,"ml-2"],[1,"text-red-500",3,"svgIcon"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Direccion detallada"),e.qZA(),e.TgZ(4,"div",3),e._uU(5,"Ingrese la direccion del personal."),e.qZA()(),e.TgZ(6,"form",4)(7,"div",5)(8,"input",6),e.NdJ("valueChange",function(r){return t.calle=r}),e.qZA(),e.TgZ(9,"div",7)(10,"mat-form-field",8)(11,"mat-label"),e._uU(12,"Calle y numero"),e.qZA(),e._UZ(13,"mat-icon",9),e.TgZ(14,"input",10,11),e.NdJ("ngModelChange",function(r){return t.searchValue=r}),e.qZA()()(),e.TgZ(16,"div",12)(17,"mat-form-field",8)(18,"mat-label"),e._uU(19,"Numero interior"),e.qZA(),e._UZ(20,"mat-icon",9)(21,"input",13),e.qZA()(),e.TgZ(22,"div",14)(23,"mat-form-field",8)(24,"mat-label"),e._uU(25,"C\xf3digo Postal"),e.qZA(),e._UZ(26,"mat-icon",9)(27,"input",13),e.qZA()(),e.TgZ(28,"div",14)(29,"mat-form-field",8)(30,"mat-label"),e._uU(31,"Colonia"),e.qZA(),e._UZ(32,"mat-icon",9),e.TgZ(33,"mat-select",15),e.NdJ("valueChange",function(r){return t.selectedColonia=r})("selectionChange",function(r){return t.selectColonia(r.value)}),e.YNc(34,Oe,3,2,"ng-container",16),e.qZA(),e._UZ(35,"input",17),e.qZA()(),e.TgZ(36,"div",14)(37,"mat-form-field",18)(38,"mat-label"),e._uU(39,"Ciudad"),e.qZA(),e._UZ(40,"mat-icon",9)(41,"input",13),e.qZA()(),e.TgZ(42,"div",14)(43,"mat-form-field",8)(44,"mat-label"),e._uU(45,"Estado"),e.qZA(),e._UZ(46,"mat-icon",9)(47,"input",13),e.qZA()(),e._UZ(48,"div",19,20),e.TgZ(50,"div",21)(51,"mat-form-field",22)(52,"mat-label"),e._uU(53,"Entre calles"),e.qZA(),e._UZ(54,"textarea",23),e.qZA(),e.TgZ(55,"div",24),e._uU(56,"Observaciones. Basic HTML and Emoji are allowed."),e.qZA()(),e.TgZ(57,"div",21)(58,"mat-form-field",22)(59,"mat-label"),e._uU(60,"Referencias"),e.qZA(),e._UZ(61,"textarea",23),e.qZA(),e.TgZ(62,"div",24),e._uU(63,"Observaciones. Basic HTML and Emoji are allowed."),e.qZA()()(),e._UZ(64,"div",25),e.TgZ(65,"div",26)(66,"button",27),e._uU(67," Cancelar "),e.qZA(),e.YNc(68,De,3,2,"div",28),e.TgZ(69,"button",29),e.NdJ("click",function(){return t.updateSelected()}),e._uU(70,"Guardar "),e.qZA()()()()),2&n&&(e.xp6(6),e.Q6J("formGroup",t.accountForm),e.xp6(2),e.Q6J("hidden",!0)("formControlName","calle")("value",t.calle),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("ngModel",t.searchValue)("ngModelOptions",e.DdM(28,Ye)),e.xp6(6),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","numeroInterior"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:hashtag"),e.xp6(1),e.Q6J("formControlName","codigoPostal"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(1),e.Q6J("value",t.selectedColonia),e.xp6(1),e.Q6J("ngForOf",t.colonias),e.xp6(1),e.Q6J("hidden",!0)("formControlName","colonia"),e.xp6(2),e.Q6J("floatLabel","always"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:calendar"),e.xp6(1),e.Q6J("formControlName","ciudad"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:lock-closed"),e.xp6(1),e.Q6J("formControlName","estado"),e.xp6(7),e.Q6J("formControlName","entreCalles")("cdkAutosizeMinRows",5),e.xp6(7),e.Q6J("formControlName","referencias")("cdkAutosizeMinRows",5),e.xp6(5),e.Q6J("routerLink",e.DdM(29,He)),e.xp6(2),e.Q6J("ngIf",t.flashMessage),e.xp6(1),e.Q6J("color","primary"))},dependencies:[m.rH,y.eB,f.v_,f.$V,f.g4,x.Hw,se.IC,Q.k0,T.x8,K.CK,_.sg,_.O5,a._Y,a.Fj,a.JJ,a.JL,a.On,a.sg,a.u,a.x0],styles:[".embed-container{position:relative;padding-bottom:56.25%;height:0;overflow:hidden}.embed-container iframe{position:absolute;top:0;left:0;width:100%;height:100%}\n"],encapsulation:2,changeDetection:0});const re=function(o){return{"mt-6":o}};function Ge(o,n){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",21)(2,"button",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,l=e.oxw();return e.KtG(l.removePhoneNumberField(r))}),e._UZ(3,"mat-icon",9),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw().first;e.xp6(1),e.Q6J("ngClass",e.VKq(2,re,t)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function ze(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",15)(2,"mat-form-field",16),e.YNc(3,Ve,2,0,"mat-label",17),e._UZ(4,"mat-icon",18)(5,"input",19),e.qZA(),e.TgZ(6,"mat-form-field",16),e.YNc(7,$e,2,0,"mat-label",17),e._UZ(8,"mat-icon",18)(9,"input",19),e.qZA(),e.TgZ(10,"mat-form-field",20),e.YNc(11,je,2,0,"mat-label",17),e._UZ(12,"mat-icon",18)(13,"input",19),e.qZA(),e.YNc(14,Ge,4,4,"ng-container",17),e.qZA(),e.BQk()),2&o){const t=n.$implicit,i=n.first,r=n.last;e.xp6(3),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:phone"),e.xp6(1),e.Q6J("formControl",t.get("contacto"))("placeholder","Telefono"),e.xp6(2),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(1),e.Q6J("formControl",t.get("etiqueta"))("placeholder","Etiqueta"),e.xp6(2),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:annotation"),e.xp6(1),e.Q6J("formControl",t.get("observaciones"))("placeholder","Notas"),e.xp6(1),e.Q6J("ngIf",!(i&&r))}}function Ke(o,n){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Tel\xe9fono"),e.qZA())}function We(o,n){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Tipo"),e.qZA())}function Xe(o,n){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Parentesco"),e.qZA())}function et(o,n){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",21)(2,"button",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,l=e.oxw();return e.KtG(l.removeReferenciaField(r))}),e._UZ(3,"mat-icon",9),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw().first;e.xp6(1),e.Q6J("ngClass",e.VKq(2,re,t)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function tt(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",15)(2,"mat-form-field",16),e.YNc(3,Ke,2,0,"mat-label",17),e._UZ(4,"mat-icon",18)(5,"input",19),e.qZA(),e.TgZ(6,"mat-form-field",16),e.YNc(7,We,2,0,"mat-label",17),e._UZ(8,"mat-icon",18)(9,"input",19),e.qZA(),e.TgZ(10,"mat-form-field",20),e.YNc(11,Xe,2,0,"mat-label",17),e._UZ(12,"mat-icon",18)(13,"input",19),e.qZA(),e.YNc(14,et,4,4,"ng-container",17),e.qZA(),e.BQk()),2&o){const t=n.$implicit,i=n.first,r=n.last;e.xp6(3),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:phone"),e.xp6(1),e.Q6J("formControl",t.get("contacto"))("placeholder","Telefono"),e.xp6(2),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(1),e.Q6J("formControl",t.get("etiqueta"))("placeholder","Etiqueta"),e.xp6(2),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControl",t.get("observaciones"))("placeholder","Notas"),e.xp6(1),e.Q6J("ngIf",!(i&&r))}}const nt=function(){return["../"]};class D{constructor(n,t,i,r,l){this._changeDetectorRef=n,this._formBuilder=t,this._fuseConfirmationService=i,this._activatedRoute=r,this._inventoryService=l,this._unsubscribeAll=new P.x,this.selectedPersona=null}ngOnInit(){this.contactForm=this._formBuilder.group({referencias:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([])});let n=this._activatedRoute.snapshot.paramMap.get("id");this._inventoryService.getPersonaById(n).subscribe(t=>{this.selectedPersona=t;const i=this.selectedPersona.formasContacto&&this.selectedPersona.formasContacto.filter(l=>"REFERENCIA"==l.tipoContacto),r=this.selectedPersona.formasContacto&&this.selectedPersona.formasContacto.filter(l=>"REFERENCIA"!==l.tipoContacto);this.contactForm.patchValue({referencias:i,phoneNumbers:r}),i&&i.length>0&&i.forEach((l,d)=>{if(l){const v=this._formBuilder.group({contacto:[l.contacto],observaciones:[l.observaciones],tipoContacto:[l.tipoContacto],etiqueta:new a.NI({value:"REFERENCIA",disabled:!0},a.kI.required)});this.contactForm.get("referencias").push(v)}}),r&&r.length>0&&r.forEach((l,d)=>{if(l){const v=this._formBuilder.group({contacto:[l.contacto],observaciones:[l.observaciones],tipoContacto:[l.tipoContacto],etiqueta:[l.etiqueta]});this.contactForm.get("phoneNumbers").push(v)}})})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete(),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.dispose()}updateSelected(){console.log("Actualiza contacto");const n=this.contactForm.getRawValue();let t=n.referencias.filter(r=>r.contacto);const i=n.phoneNumbers.filter(r=>r.contacto);i&&i.length>0&&(t=t.concat(i)),this.selectedPersona.formasContacto=t,this.contactForm=this._formBuilder.group({referencias:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([])}),this._inventoryService.updatePerson(this.selectedPersona.id,this.selectedPersona).subscribe(r=>{this._changeDetectorRef.markForCheck()})}deleteContact(){this._fuseConfirmationService.open({title:"Eliminar contacto",message:"Seguro que deseas eliminar el contacto? Esta acci\xf3n no se puede deshacer!",actions:{confirm:{label:"Eliminar"}}})}addReferenciaField(){const n=this._formBuilder.group({contacto:[""],observaciones:[""],tipoContacto:["REFERENCIA"],etiqueta:new a.NI({value:"REFERENCIA",disabled:!0},a.kI.required)});this.contactForm.get("referencias").push(n),this._changeDetectorRef.markForCheck()}removeReferenciaField(n){this.contactForm.get("referencias").removeAt(n),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const n=this._formBuilder.group({contacto:[""],observaciones:[""],tipoContacto:["telefono"],etiqueta:[""]});this.contactForm.get("phoneNumbers").push(n),this._changeDetectorRef.markForCheck()}removePhoneNumberField(n){this.contactForm.get("phoneNumbers").removeAt(n),this._changeDetectorRef.markForCheck()}trackByFn(n,t){return t.contacto||n}}function ot(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",35),e._uU(2),e.qZA(),e.BQk()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.puesto," ")}}function it(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",35),e._uU(2),e.qZA(),e.BQk()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.perfil," ")}}D.\u0275fac=function(n){return new(n||D)(e.Y36(e.sBO),e.Y36(a.qu),e.Y36(z.R),e.Y36(m.gz),e.Y36(q.f))},D.\u0275cmp=e.Xpm({type:D,selectors:[["settings-contact"]],decls:28,vars:10,consts:[[1,"w-full","max-w-5xl"],[3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"mt-8"],[1,"space-y-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","inline-flex","items-center","mt-2","-ml-4","py-2","px-4","rounded","cursor-pointer",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["mat-stroked-button","","type","button",3,"routerLink"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"],[1,"flex"],[1,"fuse-mat-no-subscript","flex-auto","mr-2","max-w-24","sm:max-w-40"],[4,"ngIf"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","placeholder"],[1,"fuse-mat-no-subscript","flex-auto","w-full"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Remove",1,"w-8","h-8","min-h-8",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e._uU(4,"Formas de contacto"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"Registro de las formas de contactar al personal."),e.qZA()(),e.TgZ(7,"div",5)(8,"div",5)(9,"div",6),e.YNc(10,ze,15,13,"ng-container",7),e.qZA(),e.TgZ(11,"div",8),e.NdJ("click",function(){return t.addPhoneNumberField()}),e._UZ(12,"mat-icon",9),e.TgZ(13,"span",10),e._uU(14,"Agregar un numero de tel\xe9fono"),e.qZA()()(),e.TgZ(15,"div",5)(16,"div",6),e.YNc(17,tt,15,13,"ng-container",7),e.qZA(),e.TgZ(18,"div",8),e.NdJ("click",function(){return t.addReferenciaField()}),e._UZ(19,"mat-icon",9),e.TgZ(20,"span",10),e._uU(21,"Agregar referencia"),e.qZA()()()(),e._UZ(22,"div",11),e.TgZ(23,"div",12)(24,"button",13),e._uU(25," Cancelar "),e.qZA(),e.TgZ(26,"button",14),e.NdJ("click",function(){return t.updateSelected()}),e._uU(27,"Guardar "),e.qZA()()()()),2&n&&(e.xp6(1),e.Q6J("formGroup",t.contactForm),e.xp6(9),e.Q6J("ngForOf",t.contactForm.get("phoneNumbers").controls)("ngForTrackBy",t.trackByFn),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(5),e.Q6J("ngForOf",t.contactForm.get("referencias").controls)("ngForTrackBy",t.trackByFn),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(5),e.Q6J("routerLink",e.DdM(9,nt)),e.xp6(2),e.Q6J("color","primary"))},dependencies:[m.rH,y.eB,f.v_,f.$V,f.g4,x.Hw,Q.k0,p.Kd,_.mk,_.sg,_.O5,a._Y,a.Fj,a.JJ,a.JL,a.oH,a.sg],encapsulation:2,changeDetection:0});const st=function(){return["../"]};class Y{constructor(n,t,i){this._formBuilder=n,this._activatedRoute=t,this._personalService=i,this.selectedProduct=null,this._unsubscribeAll=new P.x}ngOnInit(){this.securityForm=this._formBuilder.group({id:[""],nombre:[""],apellidoPaterno:[""],idExterno:[""],membresia:[""],activo:[""],puesto:[""],perfil:[""]});let n=this._activatedRoute.snapshot.paramMap.get("id");this._personalService.getPersonaById(n).subscribe(t=>{this.selectedProduct=t,this.securityForm.reset(),this.securityForm.patchValue(t),t?.perfil&&this.securityForm.patchValue({perfil:t.perfil?.id}),t?.puesto&&this.securityForm.patchValue({puesto:t.puesto?.id})}),this._personalService.profiles$.pipe((0,F.R)(this._unsubscribeAll)).subscribe(t=>{this.profiles=t}),this._personalService.puestos$.pipe((0,F.R)(this._unsubscribeAll)).subscribe(t=>{this.puestos=t})}updateSelected(){const n=this.securityForm.getRawValue();Object.assign(this.selectedProduct,n),this._personalService.updatePerson(n.id,this.selectedProduct).subscribe(()=>{})}}Y.\u0275fac=function(n){return new(n||Y)(e.Y36(a.qu),e.Y36(m.gz),e.Y36(q.f))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["settings-security"]],decls:65,vars:19,consts:[[1,"w-full","max-w-5xl"],[3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex-0","w-16","h-16","rounded-full","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-2xl","md:text-3xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],[1,"flex","items-center"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-1.5","leading-6","truncate","text-secondary"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-3"],[1,"sm:col-span-4"],[1,"fuse-mat-no-subscript","w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","email","placeholder","Correo de identificacion (de Gmail)","matInput","",3,"formControlName"],[1,"sm:col-span-2"],[3,"formControlName"],[4,"ngFor","ngForOf"],[1,"mt-1","text-md","text-hint"],[1,"my-10","border-t"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4","flex","items-center","justify-between"],[1,"flex-auto","cursor-pointer",3,"click"],[1,"leading-6","font-medium"],[1,"text-md","text-secondary"],[1,"ml-4",3,"color","formControlName"],["askPasswordChangeToggle",""],[1,"flex","items-center","justify-end"],["mat-stroked-button","","type","button",3,"routerLink"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"],[3,"value"]],template:function(n,t){if(1&n){const i=e.EpF();e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e._uU(4,"Cuenta de acceso"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"Esta informaci\xf3n debe completarse para poder entrar al sistema"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e._UZ(11,"img",9),e.qZA(),e.TgZ(12,"div",10)(13,"div",11),e._uU(14),e.qZA(),e.TgZ(15,"div",12),e._UZ(16,"mat-icon",13),e.TgZ(17,"div",14),e._uU(18),e.qZA()()()()()(),e.TgZ(19,"div",15)(20,"div",16)(21,"mat-form-field",17)(22,"mat-label"),e._uU(23,"Correo electronico de acceso"),e.qZA(),e._UZ(24,"mat-icon",18)(25,"input",19),e.qZA()(),e.TgZ(26,"div",20)(27,"mat-form-field",17)(28,"mat-label"),e._uU(29,"Puesto"),e.qZA(),e._UZ(30,"mat-icon",18),e.TgZ(31,"mat-select",21),e.YNc(32,ot,3,2,"ng-container",22),e.qZA()(),e.TgZ(33,"div",23),e._uU(34,"Rol en la operativa del negocio."),e.qZA()(),e.TgZ(35,"div",20)(36,"mat-form-field",17)(37,"mat-label"),e._uU(38,"Perfil"),e.qZA(),e._UZ(39,"mat-icon",18),e.TgZ(40,"mat-select",21),e.YNc(41,it,3,2,"ng-container",22),e.qZA()(),e.TgZ(42,"div",23),e._uU(43,"Perfil de acceso al sistema."),e.qZA()()(),e._UZ(44,"div",24),e.TgZ(45,"div",2)(46,"div",3),e._uU(47,"Configuraciones adicionales"),e.qZA(),e.TgZ(48,"div",4),e._uU(49,"Configuraciones secundarias de las personas."),e.qZA()(),e.TgZ(50,"div",25)(51,"div",26)(52,"div",27),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(58);return e.KtG(l.toggle())}),e.TgZ(53,"div",28),e._uU(54,"Activo en sistema"),e.qZA(),e.TgZ(55,"div",29),e._uU(56," Si esta opcion esta desactivada el usuario no puede entrar al sistema "),e.qZA()(),e._UZ(57,"mat-slide-toggle",30,31),e.qZA()(),e._UZ(59,"div",24),e.TgZ(60,"div",32)(61,"button",33),e._uU(62," Cancelar "),e.qZA(),e.TgZ(63,"button",34),e.NdJ("click",function(){return t.updateSelected()}),e._uU(64,"Guardar "),e.qZA()()()()}2&n&&(e.xp6(1),e.Q6J("formGroup",t.securityForm),e.xp6(10),e.s9C("src",null==t.selectedProduct?null:t.selectedProduct.foto,e.LSH),e.xp6(3),e.AsE(" ",t.selectedProduct.nombre," ",t.selectedProduct.apellidoPaterno,""),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(2),e.hij("",t.selectedProduct.empresa.empresa," "),e.xp6(6),e.Q6J("svgIcon","heroicons_solid:at-symbol"),e.xp6(1),e.Q6J("formControlName","idExterno"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","puesto"),e.xp6(1),e.Q6J("ngForOf",t.puestos),e.xp6(7),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","perfil"),e.xp6(1),e.Q6J("ngForOf",t.profiles),e.xp6(16),e.Q6J("color","primary")("formControlName","activo"),e.xp6(4),e.Q6J("routerLink",e.DdM(18,st)),e.xp6(2),e.Q6J("color","primary"))},dependencies:[m.rH,y.eB,f.v_,f.$V,f.g4,x.Hw,Q.k0,T.x8,K.CK,S.iZ,_.sg,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],encapsulation:2,changeDetection:0});var A=s(3626);const at=["recentTransactionsTable"];function rt(o,n){1&o&&(e.TgZ(0,"th",16),e._uU(1," Folio "),e.qZA())}const ct=function(o){return["/opr/ventas/",o]};function lt(o,n){if(1&o&&(e.TgZ(0,"td",17)(1,"a",18)(2,"span",19),e._uU(3),e.qZA()()()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,ct,t.id)),e.xp6(2),e.hij(" ",t.folio," ")}}function mt(o,n){1&o&&(e.TgZ(0,"th",16),e._uU(1," Fecha "),e.qZA())}function pt(o,n){if(1&o&&(e.TgZ(0,"td",17)(1,"span",20),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&o){const t=n.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,t.fecha,"y, MMM dd")," ")}}function ut(o,n){1&o&&(e.TgZ(0,"th",16),e._uU(1," Tipo "),e.qZA())}function dt(o,n){if(1&o&&(e.TgZ(0,"td",17)(1,"span",20),e._uU(2),e.qZA()()),2&o){const t=n.$implicit;e.xp6(2),e.hij(" ",t.tipo," ")}}function gt(o,n){1&o&&(e.TgZ(0,"th",16),e._uU(1," Total "),e.qZA())}function ft(o,n){if(1&o&&(e.TgZ(0,"td",17)(1,"span",21),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&o){const t=n.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,t.total,"USD")," ")}}function _t(o,n){1&o&&(e.TgZ(0,"th",16),e._uU(1," Estatus "),e.qZA())}const ht=function(o,n){return{"bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-50":o,"bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50":n}};function vt(o,n){if(1&o&&(e.TgZ(0,"td",17)(1,"span",22)(2,"span",23),e._uU(3),e.qZA()()()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("ngClass",e.WLB(2,ht,"VENTA_OK_FACT_FAIL"===t.status,"VENTA_OK_FACT_OK_PDF_OK"===t.status)),e.xp6(2),e.Oqu(t.status)}}function xt(o,n){1&o&&e._UZ(0,"tr",24)}function Zt(o,n){1&o&&e._UZ(0,"tr",25)}const bt=function(){return["../"]};class H{constructor(n,t,i){this._activatedRoute=n,this._personalService=t,this._router=i,this.selectedPersona=null,this._unsubscribeAll=new P.x,this.recentTransactionsDataSource=new A.by,this.recentTransactionsTableColumns=["folio","fecha","tipo","total","status"]}ngOnInit(){this._personalService.ventas$.pipe((0,F.R)(this._unsubscribeAll)).subscribe(t=>{this.data=t,this.recentTransactionsDataSource.data=t}),this._activatedRoute.snapshot.paramMap.get("id"),this.ventas$=this._personalService.ventas$}back(){this._router.navigate(["../"],{relativeTo:this._activatedRoute})}trackByFn(n,t){return t.id||n}}function Ct(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",26),e._uU(2),e.qZA(),e.BQk()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("value",t.claveSAT),e.xp6(1),e.AsE(" ",t.claveSAT," - ",t.descripcion," ")}}function Tt(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",26),e._uU(2),e.qZA(),e.BQk()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("value",t.claveSAT),e.xp6(1),e.AsE(" ",t.claveSAT," - ",t.descripcion," ")}}H.\u0275fac=function(n){return new(n||H)(e.Y36(m.gz),e.Y36(q.f),e.Y36(m.F0))},H.\u0275cmp=e.Xpm({type:H,selectors:[["settings-ventas"]],viewQuery:function(n,t){if(1&n&&e.Gf(at,5,h.YE),2&n){let i;e.iGM(i=e.CRH())&&(t.recentTransactionsTableMatSort=i.first)}},decls:25,vars:6,consts:[[1,"grid","grid-cols-1","w-full","max-w-5xl"],[1,"xl:col-span-2","flex","flex-col","flex-auto","bg-card","shadow","rounded","overflow-hidden"],[1,"overflow-x-auto"],["mat-table","","matSort","",1,"w-full","bg-transparent",3,"dataSource","trackBy"],["recentTransactionsTable",""],["matColumnDef","folio"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fecha"],["matColumnDef","tipo"],["matColumnDef","total"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["class","order-row py-2","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"flex","items-center","justify-end","mt-4"],["mat-stroked-button","","type","button",3,"routerLink"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"routerLink"],[1,"pr-6","font-medium","text-sm","text-secondary","whitespace-nowrap"],[1,"pr-6","whitespace-nowrap"],[1,"pr-6","font-medium","whitespace-nowrap"],[1,"inline-flex","items-center","font-bold","text-xs","px-2.5","py-0.5","rounded-full","tracking-wide","uppercase",3,"ngClass"],[1,"leading-relaxed","whitespace-nowrap"],["mat-header-row",""],["mat-row","",1,"order-row","py-2"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3,4),e.ynx(5,5),e.YNc(6,rt,2,0,"th",6),e.YNc(7,lt,4,4,"td",7),e.BQk(),e.ynx(8,8),e.YNc(9,mt,2,0,"th",6),e.YNc(10,pt,4,4,"td",7),e.BQk(),e.ynx(11,9),e.YNc(12,ut,2,0,"th",6),e.YNc(13,dt,3,1,"td",7),e.BQk(),e.ynx(14,10),e.YNc(15,gt,2,0,"th",6),e.YNc(16,ft,4,4,"td",7),e.BQk(),e.ynx(17,11),e.YNc(18,_t,2,0,"th",6),e.YNc(19,vt,4,5,"td",7),e.BQk(),e.YNc(20,xt,1,0,"tr",12),e.YNc(21,Zt,1,0,"tr",13),e.qZA()()(),e.TgZ(22,"div",14)(23,"button",15),e._uU(24," Cancelar "),e.qZA()()()),2&n&&(e.xp6(3),e.Q6J("dataSource",t.data)("trackBy",t.trackByFn),e.xp6(17),e.Q6J("matHeaderRowDef",t.recentTransactionsTableColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.recentTransactionsTableColumns),e.xp6(2),e.Q6J("routerLink",e.DdM(5,bt)))},dependencies:[m.rH,y.eB,h.YE,h.nU,_.mk,A.BZ,A.fO,A.as,A.w1,A.Dz,A.nj,A.ge,A.ev,A.XQ,A.Gk,_.H9,_.uU],styles:[".ventas-grid{grid-template-columns:100px auto 150px 45px 50px}@media (min-width: 600px){.ventas-grid{grid-template-columns:100px auto 121px 100px 50px 50px}}@media (min-width: 960px){.ventas-grid{grid-template-columns:100px 100px auto 50px 48px 50px}}@media (min-width: 1280px){.ventas-grid{grid-template-columns:90px 120px 150px auto}}\n"],encapsulation:2,changeDetection:0});const At=function(){return["../"]};class V{constructor(n,t,i){this._formBuilder=n,this._activatedRoute=t,this._personalService=i,this.selectedProduct=null,this.habilitarFacturacion=!1,this._unsubscribeAll=new P.x}ngOnInit(){this.billingForm=this._formBuilder.group({id:[""],habilitarFacturacion:[""],datosFiscales:this._formBuilder.group({rfc:[""],cif:[""],razonSocial:[""],calle:[""],numeroInterior:[""],numeroExterior:[""],codigoPostal:["",a.kI.required],colonia:[""],municipio:[""],estado:[""],pais:[""],habilitarFacturacion:[""],regimenFiscal:[""],usoCFDI:[""],situacionContribuyente:[""]})});let n=this._activatedRoute.snapshot.paramMap.get("id");this._personalService.getPersonaById(n).subscribe(t=>{this.selectedProduct=t,this.billingForm.reset(),this.billingForm.patchValue(t),this.billingForm.get("habilitarFacturacion").patchValue(this.billingForm.controls.datosFiscales.get("habilitarFacturacion").value),this.billingForm.controls.datosFiscales.get("habilitarFacturacion").value?this.billingForm.controls.datosFiscales.enable():this.billingForm.controls.datosFiscales.disable()}),this._personalService.regimenes$.subscribe(t=>{this.regimenes=t}),this._personalService.usosCFDI$.subscribe(t=>{this.usos=t}),this.billingForm.controls.habilitarFacturacion.valueChanges.subscribe(t=>{this.habilitarFacturacion=t,this.billingForm.controls.datosFiscales.get("habilitarFacturacion").patchValue(this.habilitarFacturacion),this.habilitarFacturacion?this.billingForm.controls.datosFiscales.enable():this.billingForm.controls.datosFiscales.disable()})}updateSelected(){const n=this.billingForm.getRawValue();Object.assign(this.selectedProduct,n),this._personalService.updatePerson(n.id,this.selectedProduct).subscribe(()=>{})}}V.\u0275fac=function(n){return new(n||V)(e.Y36(a.qu),e.Y36(m.gz),e.Y36(q.f))},V.\u0275cmp=e.Xpm({type:V,selectors:[["settings-billing"]],decls:104,vars:38,consts:[[1,"w-full","max-w-5xl"],[3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],[1,"col-span-4","flex","items-center","justify-between"],[1,"flex-auto","cursor-pointer"],[1,"leading-6","font-medium"],[1,"ml-4",3,"color","formControlName"],["formGroupName","datosFiscales",1,"grid","grid-cols-4","gap-2","sm:gap-4","w-full","mt-8"],[1,"ml-4",2,"display","none",3,"color","formControlName","hidden"],[1,"col-span-2"],[1,"fuse-mat-no-subscript","w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","text","matInput","",3,"formControlName"],[1,"col-span-4"],[1,"col-span-1"],["matInput","",3,"formControlName"],[1,"fuse-mat-no-subscript","w-full",3,"floatLabel"],[3,"formControlName"],[4,"ngFor","ngForOf"],[1,"mt-1","text-md","text-hint"],[1,"my-10","border-t"],[1,"flex","items-center","justify-end"],["mat-stroked-button","","type","button",3,"routerLink"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"],[3,"value"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e._uU(4,"Datos de facturaci\xf3n"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"Es necesario que la informaci\xf3n que se captura coincida con la constancia de situacion fiscal del contribuyente"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7),e._uU(10,"Habilitar facturaci\xf3n"),e.qZA()(),e._UZ(11,"mat-slide-toggle",8),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"mat-slide-toggle",10),e.TgZ(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),e._uU(17,"RFC"),e.qZA(),e._UZ(18,"mat-icon",13)(19,"input",14),e.qZA()(),e.TgZ(20,"div",11)(21,"mat-form-field",12)(22,"mat-label"),e._uU(23,"CIF ID"),e.qZA(),e._UZ(24,"mat-icon",13)(25,"input",14),e.qZA()(),e.TgZ(26,"div",15)(27,"mat-form-field",12)(28,"mat-label"),e._uU(29,"Raz\xf3n social"),e.qZA(),e._UZ(30,"mat-icon",13)(31,"input",14),e.qZA()(),e.TgZ(32,"div",11)(33,"mat-form-field",12)(34,"mat-label"),e._uU(35,"Calle "),e.qZA(),e._UZ(36,"mat-icon",13)(37,"input",14),e.qZA()(),e.TgZ(38,"div",16)(39,"mat-form-field",12)(40,"mat-label"),e._uU(41,"N\xfamero exterior"),e.qZA(),e._UZ(42,"mat-icon",13)(43,"input",14),e.qZA()(),e.TgZ(44,"div",16)(45,"mat-form-field",12)(46,"mat-label"),e._uU(47,"N\xfamero interior"),e.qZA(),e._UZ(48,"mat-icon",13)(49,"input",17),e.qZA()(),e.TgZ(50,"div",11)(51,"mat-form-field",12)(52,"mat-label"),e._uU(53,"C\xf3digo Postal"),e.qZA(),e._UZ(54,"mat-icon",13)(55,"input",17),e.qZA()(),e.TgZ(56,"div",11)(57,"mat-form-field",12)(58,"mat-label"),e._uU(59,"Colonia"),e.qZA(),e._UZ(60,"mat-icon",13)(61,"input",17),e.qZA()(),e.TgZ(62,"div",11)(63,"mat-form-field",18)(64,"mat-label"),e._uU(65,"Municipio"),e.qZA(),e._UZ(66,"mat-icon",13)(67,"input",17),e.qZA()(),e.TgZ(68,"div",11)(69,"mat-form-field",12)(70,"mat-label"),e._uU(71,"Estado"),e.qZA(),e._UZ(72,"mat-icon",13)(73,"input",17),e.qZA()(),e.TgZ(74,"div",15)(75,"mat-form-field",12)(76,"mat-label"),e._uU(77,"Pa\xeds"),e.qZA(),e._UZ(78,"mat-icon",13)(79,"input",17),e.qZA()(),e.TgZ(80,"div",11)(81,"mat-form-field",12)(82,"mat-label"),e._uU(83,"Regimen fiscal "),e.qZA(),e._UZ(84,"mat-icon",13),e.TgZ(85,"mat-select",19),e.YNc(86,Ct,3,3,"ng-container",20),e.qZA()(),e.TgZ(87,"div",21),e._uU(88,"Regimen fiscal del contribuyente que aparece en la factura."),e.qZA()(),e.TgZ(89,"div",11)(90,"mat-form-field",12)(91,"mat-label"),e._uU(92,"Uso CFDI "),e.qZA(),e._UZ(93,"mat-icon",13),e.TgZ(94,"mat-select",19),e.YNc(95,Tt,3,3,"ng-container",20),e.qZA()(),e.TgZ(96,"div",21),e._uU(97,"Uso de CFDI que se emite en la factura."),e.qZA()()(),e._UZ(98,"div",22),e.TgZ(99,"div",23)(100,"button",24),e._uU(101," Cancelar "),e.qZA(),e.TgZ(102,"button",25),e.NdJ("click",function(){return t.updateSelected()}),e._uU(103,"Guardar "),e.qZA()()()()),2&n&&(e.xp6(1),e.Q6J("formGroup",t.billingForm),e.xp6(10),e.Q6J("color","primary")("formControlName","habilitarFacturacion"),e.xp6(2),e.Q6J("color","primary")("formControlName","habilitarFacturacion")("hidden",!0),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","rfc"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","cif"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","razonSocial"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","calle"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","numeroExterior"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","numeroInterior"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:hashtag"),e.xp6(1),e.Q6J("formControlName","codigoPostal"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(1),e.Q6J("formControlName","colonia"),e.xp6(2),e.Q6J("floatLabel","always"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:calendar"),e.xp6(1),e.Q6J("formControlName","municipio"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:lock-closed"),e.xp6(1),e.Q6J("formControlName","estado"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:lock-closed"),e.xp6(1),e.Q6J("formControlName","pais"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","regimenFiscal"),e.xp6(1),e.Q6J("ngForOf",t.regimenes),e.xp6(7),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("formControlName","usoCFDI"),e.xp6(1),e.Q6J("ngForOf",t.usos),e.xp6(5),e.Q6J("routerLink",e.DdM(37,At)),e.xp6(2),e.Q6J("color","primary"))},dependencies:[m.rH,y.eB,f.v_,f.$V,f.g4,x.Hw,Q.k0,T.x8,K.CK,S.iZ,_.sg,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.x0],encapsulation:2,changeDetection:0});const yt=["drawer"],Ut=function(o,n){return{"hover:bg-gray-100 dark:hover:bg-hover":o,"bg-primary-50 dark:bg-hover":n}},Qt=function(o,n){return{"text-hint":o,"text-primary dark:text-primary-500":n}},It=function(o){return{"text-primary dark:text-primary-500":o}};function Jt(o,n){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",19),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.goToPanel(l.id))}),e._UZ(2,"mat-icon",20),e.TgZ(3,"div",21)(4,"div",22),e._uU(5),e.qZA(),e.TgZ(6,"div",23),e._uU(7),e.qZA()()(),e.BQk()}if(2&o){const t=n.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(6,Ut,!i.selectedPanel||i.selectedPanel!==t.id,i.selectedPanel&&i.selectedPanel===t.id)),e.xp6(1),e.Q6J("ngClass",e.WLB(9,Qt,!i.selectedPanel||i.selectedPanel!==t.id,i.selectedPanel&&i.selectedPanel===t.id))("svgIcon",t.icon),e.xp6(2),e.Q6J("ngClass",e.VKq(12,It,i.selectedPanel&&i.selectedPanel===t.id)),e.xp6(1),e.hij(" ",t.title," "),e.xp6(2),e.hij(" ",t.description," ")}}function Ft(o,n){1&o&&(e.ynx(0),e._UZ(1,"settings-info"),e.BQk())}function qt(o,n){1&o&&(e.ynx(0),e._UZ(1,"settings-address"),e.BQk())}function wt(o,n){1&o&&(e.ynx(0),e._UZ(1,"settings-contact"),e.BQk())}function Nt(o,n){1&o&&(e.ynx(0),e._UZ(1,"settings-account"),e.BQk())}function St(o,n){1&o&&(e.ynx(0),e._UZ(1,"settings-security"),e.BQk())}function Pt(o,n){if(1&o&&(e.ynx(0),e.YNc(1,St,2,0,"ng-container",24),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.esCliente)}}function kt(o,n){1&o&&(e.ynx(0),e._UZ(1,"settings-billing"),e.BQk())}function Bt(o,n){1&o&&(e.ynx(0),e._UZ(1,"settings-ventas"),e.BQk())}class ${constructor(n,t,i,r){this._changeDetectorRef=n,this._fuseMediaWatcherService=t,this._activatedRoute=i,this._personalService=r,this.drawerMode="side",this.drawerOpened=!0,this.panels=[],this.selectedPanel="info",this._unsubscribeAll=new P.x,this.esCliente=!0}ngOnInit(){this.esCliente=this._personalService.esCliente,this.panels=[{id:"info",icon:"heroicons_outline:document-text",title:"Informaci\xf3n",description:"Perfil e informacion privada"},{id:"direcciones",icon:"heroicons_outline:home",title:"Direcci\xf3n",description:"Direcciones de vivienda personal"},{id:"contacto",icon:"heroicons_outline:phone",title:"Contacto",description:"Formas de contacto"},{id:"billing",icon:"heroicons_outline:currency-dollar",title:"Facturaci\xf3n",description:"Datos de facturaci\xf3n"},{id:"ventas",icon:"heroicons_outline:document-duplicate",title:"Ventas",description:"Historial de ventas"}],this.esCliente||this.panels.push({id:"security",icon:"heroicons_outline:user-circle",title:"Cuenta",description:"Cuenta de acceso al sistema"}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,F.R)(this._unsubscribeAll)).subscribe(({matchingAliases:t})=>{t.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)});let n=this._activatedRoute.snapshot.paramMap.get("id");this._personalService.getVentas(n).subscribe(),this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}goToPanel(n){this.selectedPanel=n,"over"===this.drawerMode&&this.drawer.close()}getPanelInfo(n){return this.panels.find(t=>t.id===n)}trackByFn(n,t){return t.id||n}}$.\u0275fac=function(n){return new(n||$)(e.Y36(e.sBO),e.Y36(Ne.T),e.Y36(m.gz),e.Y36(q.f))},$.\u0275cmp=e.Xpm({type:$,selectors:[["settings"]],viewQuery:function(n,t){if(1&n&&e.Gf(yt,5),2&n){let i;e.iGM(i=e.CRH())&&(t.drawer=i.first)}},decls:28,vars:16,consts:[[1,"flex","flex-col","w-full","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"flex-auto","sm:h-full"],[1,"sm:w-96","dark:bg-gray-900",3,"autoFocus","mode","opened"],["drawer",""],[1,"flex","items-center","justify-between","m-6","mr-6","sm:my-6"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"lg:hidden"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","divide-y","border-t","border-b"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-col"],[1,"flex-auto","px-2","pt-9","pb-12","md:p-2","md:pb-12","lg:p-4"],[1,"flex","items-center"],["mat-icon-button","",1,"lg:hidden","-ml-2",3,"click"],[1,"ml-2","lg:ml-0","text-3xl","font-bold","tracking-tight","leading-none"],[1,"mt-8"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","px-6","py-4","cursor-pointer",3,"ngClass","click"],[3,"ngClass","svgIcon"],[1,"ml-3"],[1,"font-medium","leading-6",3,"ngClass"],[1,"mt-0.5","text-secondary"],[4,"ngIf"]],template:function(n,t){if(1&n){const i=e.EpF();e.TgZ(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"div",4)(5,"div",5),e._uU(6,"Personas"),e.qZA(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(3);return e.KtG(l.close())}),e._UZ(9,"mat-icon",8),e.qZA()()(),e.TgZ(10,"div",9),e.YNc(11,Jt,8,14,"ng-container",10),e.qZA()(),e.TgZ(12,"mat-drawer-content",11)(13,"div",12)(14,"div",13)(15,"button",14),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(3);return e.KtG(l.toggle())}),e._UZ(16,"mat-icon",8),e.qZA(),e.TgZ(17,"div",15),e._uU(18),e.qZA()(),e.TgZ(19,"div",16),e.ynx(20,17),e.YNc(21,Ft,2,0,"ng-container",18),e.YNc(22,qt,2,0,"ng-container",18),e.YNc(23,wt,2,0,"ng-container",18),e.YNc(24,Nt,2,0,"ng-container",18),e.YNc(25,Pt,2,1,"ng-container",18),e.YNc(26,kt,2,0,"ng-container",18),e.YNc(27,Bt,2,0,"ng-container",18),e.BQk(),e.qZA()()()()()}2&n&&(e.xp6(2),e.Q6J("autoFocus",!1)("mode",t.drawerMode)("opened",t.drawerOpened),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(2),e.Q6J("ngForOf",t.panels)("ngForTrackBy",t.trackByFn),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:menu"),e.xp6(2),e.hij(" ",t.getPanelInfo(t.selectedPanel).title," "),e.xp6(2),e.Q6J("ngSwitch",t.selectedPanel),e.xp6(1),e.Q6J("ngSwitchCase","info"),e.xp6(1),e.Q6J("ngSwitchCase","direcciones"),e.xp6(1),e.Q6J("ngSwitchCase","contacto"),e.xp6(1),e.Q6J("ngSwitchCase","cuenta"),e.xp6(1),e.Q6J("ngSwitchCase","security"),e.xp6(1),e.Q6J("ngSwitchCase","billing"),e.xp6(1),e.Q6J("ngSwitchCase","ventas"))},dependencies:[y.eB,x.Hw,_.mk,_.sg,_.O5,_.RF,_.n9,u.jA,u.kh,u.LW,E,R,D,Y,H,V],styles:[".mat-drawer{width:200px}\n"],encapsulation:2,changeDetection:0});const Lt=[{path:"",component:M,children:[{path:"",component:O,resolve:{lista:w.X4}},{path:":id",component:$,resolve:{persona:w.Fc,profiles:w.gR,puestos:w.aY,membresias:w.Tv,regimenes:w.Bo,usosCFDI:w.Uu,key:w.Wj}}]}];var Mt=s(4466),Ot=s(5439),Et=s.n(Ot);class B{}B.\u0275fac=function(n){return new(n||B)},B.\u0275mod=e.oAB({type:B}),B.\u0275inj=e.cJS({providers:[{provide:b.sG,useValue:{parse:{dateInput:Et().ISO_8601},display:{dateInput:"LL",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}}],imports:[m.Bz.forChild(Lt),y.yu,X.Zh,f.wp,x.Ps,Q.x4,k.jT,L.gf,G.jc,b.si,h.JX,T.uw,S.Wd,p.AA,ee.Xo,I.fC,Mt.m,C.FA,Z.Yd,u.SJ,c.Nn,J.t,A.p0,z.w]})}}]);