"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[2917],{2917:(B,g,i)=>{i.r(g),i.d(g,{AuthSignInModule:()=>r});var l=i(9132),m=i(9818),h=i(74),u=i(8455),p=i(7392),f=i(9203),v=i(1343),x=i(5804),Z=i(7775),y=i(4466),s=i(4006),A=i(8288),e=i(4650),T=i(8951),b=i(8214),C=i(6895);const U=["signInNgForm"];function I(a,t){if(1&a&&(e.TgZ(0,"fuse-alert",31),e._uU(1),e.qZA()),2&a){const o=e.oxw();e.Q6J("appearance","outline")("showIcon",!1)("type",o.alert.type)("@shake","error"===o.alert.type),e.xp6(1),e.hij(" ",o.alert.message," ")}}function S(a,t){if(1&a){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",32)(2,"div",33)(3,"div")(4,"div",34)(5,"div",35),e.NdJ("click",function(){e.CHM(o);const d=e.oxw();return e.KtG(d.getAuthCode())}),e._UZ(6,"div",36),e.TgZ(7,"div",37)(8,"div",38),e.O4$(),e.TgZ(9,"svg",39)(10,"g"),e._UZ(11,"path",40)(12,"path",41)(13,"path",42)(14,"path",43)(15,"path",44),e.qZA()()(),e.kcU(),e.TgZ(16,"span",45),e._uU(17,"Registrarse con Google"),e.qZA(),e.TgZ(18,"span",46),e._uU(19,"Registrarse con Google"),e.qZA()()()()()()(),e.BQk()}}class c{constructor(t,o,n,d,k,R){this._activatedRoute=t,this._authService=o,this._formBuilder=n,this._router=d,this._ngZone=k,this._changeDetectorRef=R,this.alert={type:"success",message:""},this.showAlert=!1,this.activarRegistro=!1}ngOnInit(){this.loadScript(),window.onGoogleLibraryLoad=()=>{google.accounts.id.initialize({client_id:"721400325376-c0ki8r70ejrbk327uf3f3o4jhi1snhte.apps.googleusercontent.com",callback:this.handleCredentialResponse.bind(this),auto_select:!0,cancel_on_tap_outside:!1}),google.accounts.id.renderButton(document.getElementById("buttonDiv"),{theme:"outline",size:"large"}),this.client=google.accounts.oauth2.initCodeClient({client_id:"721400325376-c0ki8r70ejrbk327uf3f3o4jhi1snhte.apps.googleusercontent.com",scope:"openid email profile",ux_mode:"popup",callback:t=>{console.log(t),this._authService.SignUpUsingCode().subscribe(o=>{this.procesaRespuestaOK(o)},o=>{this.procesaError(o)})}}),google.accounts.id.prompt(t=>{this.activarRegistro=!0,this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),console.log("Google prompt event triggered..."+this.activarRegistro)})},this.signInForm=this._formBuilder.group({email:["hughes.brian@company.com",[s.kI.required,s.kI.email]],password:["admin",s.kI.required],rememberMe:[""]})}procesaRespuestaOK(t){if(localStorage.removeItem("accessToken"),""===t.mensaje){localStorage.setItem("accessToken",t.accessToken);const o=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/signed-in-redirect";this.alert={type:"info",message:"Login Correcto, redirigiendo al inicio"},this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._router.navigateByUrl(o)}else this.alert={type:"info",message:t.mensaje},this.showAlert=!0;this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges()}loadScript(){console.log("preparing to load gsi...");let t=document.createElement("script");t.src="https://accounts.google.com/gsi/client",t.type="text/javascript",t.async=!0,t.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(t)}getAuthCode(){this.client.requestCode()}handleCredentialResponse(t){console.log("handleCredentialResponse",t);try{t&&t.credential&&(console.log("Set credential as accessToken"),this._authService.accessToken=t?.credential,this._authService.logInUsingToken().subscribe(n=>{console.log("Login using token ok"),this.procesaRespuestaOK(n)},n=>{this.procesaError(n)}))}catch(n){console.error("Error while trying to decode token",n)}}procesaError(t){localStorage.removeItem("accessToken"),t&&0===t.status?this.alert={type:"error",message:"No se puede acceder al aplicativo por comunicacion con la API, reportelo al administrador"}:t&&401===t.status?this.alert={type:"error",message:"Datos de accesos incorrectos"}:t&&403===t.status?this.alert={type:"error",message:"Acceso denegado"}:(console.log(t),this.alert={type:"error",message:"No se puede acceder, reporte el incidente al administrador ["+t.status+"]"}),this.showAlert=!0,this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges()}}c.\u0275fac=function(t){return new(t||c)(e.Y36(l.gz),e.Y36(T.e),e.Y36(s.qu),e.Y36(l.F0),e.Y36(e.R0b),e.Y36(e.sBO))},c.\u0275cmp=e.Xpm({type:c,selectors:[["auth-sign-in"]],viewQuery:function(t,o){if(1&t&&e.Gf(U,5),2&t){let n;e.iGM(n=e.CRH())&&(o.signInNgForm=n.first)}},decls:56,vars:3,consts:[[1,"flex","flex-col","sm:flex-row","items-center","md:items-start","sm:justify-center","md:justify-start","flex-auto","min-w-0"],[1,"md:flex","md:items-center","md:justify-end","w-full","sm:w-auto","md:h-full","md:w-1/2","py-8","px-4","sm:p-12","md:p-16","sm:rounded-2xl","md:rounded-none","sm:shadow","md:shadow-none","sm:bg-card"],[1,"w-full","max-w-80","sm:w-80","mx-auto","sm:mx-0"],[1,"w-12"],["src","assets/images/logo/logo.svg"],[1,"mt-8","text-4xl","font-extrabold","tracking-tight","leading-tight"],[1,"flex","items-baseline","mt-0.5","font-medium"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-8",3,"formGroup"],["signInNgForm","ngForm"],[1,"flex","items-center","mt-8"],[1,"flex-auto","mt-px","border-t"],[1,"mx-2","text-secondary"],[1,"flex-auto","mt-px"],["id","buttonDiv"],[4,"ngIf"],[1,"relative","hidden","md:flex","flex-auto","items-center","justify-center","w-1/2","h-full","p-16","lg:px-28","overflow-hidden","bg-gray-800","dark:border-l"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],["viewBox","0 0 220 192","width","220","height","192","fill","none",1,"absolute","-top-16","-right-16","text-gray-700"],["id","837c3e70-6c3a-44e6-8854-cc48c737b659","x","0","y","0","width","20","height","20","patternUnits","userSpaceOnUse"],["x","0","y","0","width","4","height","4","fill","currentColor"],["width","220","height","192","fill","url(#837c3e70-6c3a-44e6-8854-cc48c737b659)"],[1,"z-10","relative","w-full","max-w-2xl"],[1,"text-7xl","font-bold","leading-none","text-gray-100"],[1,"mt-2","text-lg","tracking-tight","leading-8","text-gray-400"],[1,"mt-6","text-lg","tracking-tight","leading-6","text-gray-400"],[1,"ml-4","font-medium","tracking-tight","text-gray-400"],["href","stegroup.com.mx","target","_blank",1,"ml-1","text-primary-500","hover:underline"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],["id","buttonAcceder",1,"ng-tns-c190-1"],[1,"S9gUrf-YoZ4jf",2,"position","relative"],["id","container",1,"haAclf",2,"padding","2px 10px"],["tabindex","0","role","button","aria-labelledby","button-label",1,"nsm7Bb-HzV7m-LgbsSe","hJDwNd-SxQuSe","i5vt6e-Ia7Qfc","uaxL4e-RbRzK",3,"click"],[1,"nsm7Bb-HzV7m-LgbsSe-MJoBVe"],[1,"nsm7Bb-HzV7m-LgbsSe-bN97Pc-sM5MNb"],[1,"nsm7Bb-HzV7m-LgbsSe-Bz112c"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"LgbsSe-Bz112c"],["fill","#EA4335","d","M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"],["fill","#4285F4","d","M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"],["fill","#FBBC05","d","M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"],["fill","#34A853","d","M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"],["fill","none","d","M0 0h48v48H0z"],[1,"nsm7Bb-HzV7m-LgbsSe-BPrWId"],["id","button-label",1,"L6cTce"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5),e._uU(6,"Entrar"),e.qZA(),e.TgZ(7,"div",6)(8,"div"),e._uU(9,"Bienvenido a Blue admin"),e.qZA()(),e.YNc(10,I,2,5,"fuse-alert",7),e.TgZ(11,"form",8,9)(13,"div",10),e._UZ(14,"div",11),e.TgZ(15,"div",12),e._uU(16,"Continua"),e.qZA(),e._UZ(17,"div",11),e.qZA(),e.TgZ(18,"div",10),e._UZ(19,"div",13),e.TgZ(20,"div",12),e._UZ(21,"div",14),e.qZA(),e._UZ(22,"div",13),e.qZA(),e.TgZ(23,"div",10),e._UZ(24,"div",11),e.TgZ(25,"div",12),e._uU(26,"O Inicia el proceso de registro"),e.qZA(),e._UZ(27,"div",11),e.qZA(),e.TgZ(28,"div",10),e._UZ(29,"div",13),e.TgZ(30,"div",12),e.YNc(31,S,20,0,"ng-container",15),e.qZA(),e._UZ(32,"div",13),e.qZA()()()(),e.TgZ(33,"div",16),e.O4$(),e.TgZ(34,"svg",17)(35,"g",18),e._UZ(36,"circle",19)(37,"circle",20),e.qZA()(),e.TgZ(38,"svg",21)(39,"defs")(40,"pattern",22),e._UZ(41,"rect",23),e.qZA()(),e._UZ(42,"rect",24),e.qZA(),e.kcU(),e.TgZ(43,"div",25)(44,"div",26)(45,"div"),e._uU(46,"Blue Admin"),e.qZA(),e.TgZ(47,"div",27),e._uU(48,"by STE Group"),e.qZA()(),e.TgZ(49,"div",28),e._uU(50," Es un sistema de administraci\xf3n de inventario y ventas. Desarrollado a la medida por STE Group se ajusta completamente a las necesidades de tu negocio, la sencillez de la tecnologia al alcance de tus manos. "),e.qZA(),e.TgZ(51,"div",10)(52,"div",29),e._uU(53," Mas de "),e.TgZ(54,"a",30),e._uU(55,"STE Group "),e.qZA()()()()()()),2&t&&(e.xp6(10),e.Q6J("ngIf",o.showAlert),e.xp6(1),e.Q6J("formGroup",o.signInForm),e.xp6(20),e.Q6J("ngIf",o.activarRegistro))},dependencies:[b.W,C.O5,s._Y,s.JL,s.sg],encapsulation:2,data:{animation:A.L}});const w=[{path:"",component:c}];class r{}r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[l.Bz.forChild(w),m.yu,h.Zh,u.wp,p.Ps,f.x4,v.UK,x.J,Z.fC,y.m]})}}]);