"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[8592],{9309:(R,g,s)=>{s.d(g,{Bo:()=>e,Fc:()=>i,Tv:()=>I,Uu:()=>r,V6:()=>E,Wj:()=>a,X4:()=>M,aY:()=>l,gR:()=>f});var p=s(262),P=s(2843),v=s(4004),h=s(9646),o=s(4650),u=s(2270),O=s(9132);class d{constructor(t,c){this._inventoryService=t,this._router=c}resolve(t,c){return this._inventoryService.getPersonaById(t.paramMap.get("id")).pipe((0,p.K)(D=>{console.error(D);const y=c.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(y),(0,P._)(D)}))}}d.\u0275fac=function(t){return new(t||d)(o.LFG(u.f),o.LFG(O.F0))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"});class E{constructor(t,c){this._inventoryService=t,this._router=c}resolve(t,c){return this._inventoryService.getPersonalInfoByIdOnline(t.paramMap.get("idPx")).pipe((0,p.K)(D=>{console.error(D);const y=c.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(y),(0,P._)(D)}))}}E.\u0275fac=function(t){return new(t||E)(o.LFG(u.f),o.LFG(O.F0))},E.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"});class i{constructor(t,c){this._inventoryService=t,this._router=c}resolve(t,c){return this._inventoryService.getPersonaByIdOnline(t.paramMap.get("id")).pipe((0,p.K)(D=>{console.error(D);const y=c.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(y),(0,P._)(D)}))}}i.\u0275fac=function(t){return new(t||i)(o.LFG(u.f),o.LFG(O.F0))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"});class f{constructor(t){this._inventoryService=t}resolve(t,c){return this._inventoryService.getProfiles()}}f.\u0275fac=function(t){return new(t||f)(o.LFG(u.f))},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"});class M{constructor(t){this._personalService=t}resolve(t,c){return this._personalService.initWithUrl(c.url)}}M.\u0275fac=function(t){return new(t||M)(o.LFG(u.f))},M.\u0275prov=o.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"});class l{constructor(t){this._inventoryService=t}resolve(t,c){return this._inventoryService.getPuestos()}}l.\u0275fac=function(t){return new(t||l)(o.LFG(u.f))},l.\u0275prov=o.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"});class I{constructor(t){this._inventoryService=t}resolve(t,c){return this._inventoryService.getMebresias()}}I.\u0275fac=function(t){return new(t||I)(o.LFG(u.f))},I.\u0275prov=o.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"});class e{constructor(t){this._inventoryService=t}resolve(t,c){return this._inventoryService.getRegimenes()}}e.\u0275fac=function(t){return new(t||e)(o.LFG(u.f))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"});class r{constructor(t){this._inventoryService=t}resolve(t,c){return this._inventoryService.getUsosCFDI()}}r.\u0275fac=function(t){return new(t||r)(o.LFG(u.f))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"});class _{constructor(t){this._personalService=t}resolve(t,c){return this._personalService.getVentas(t.paramMap.get("id"))}}_.\u0275fac=function(t){return new(t||_)(o.LFG(u.f))},_.\u0275prov=o.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"});class a{constructor(t){this._personalService=t}resolve(t,c){return this._personalService.getMapKey().pipe((0,v.U)(D=>{this.loadScript(D.valor)}))}loadScript(t){let c=document.createElement("script");return c.type="text/javascript",c.async=!0,c.charset="utf-8",c.src="//maps.googleapis.com/maps/api/js?key="+t+"&libraries=places",document.getElementsByTagName("head")[0].appendChild(c),(0,h.of)(!1)}}a.\u0275fac=function(t){return new(t||a)(o.LFG(u.f))},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})},9042:(R,g,s)=>{s.d(g,{V:()=>l});var p=s(1135),P=s(8505),v=s(5698),h=s(4004),o=s(3900),u=s(2843),O=s(9646),d=s(9300),E=s(2340),i=s(4650),f=s(529),M=s(7495);class l{constructor(e,r){this._httpClient=e,this._userService=r,this._tiposSucursal=new p.X(null),this._categories=new p.X(null),this._pagination=new p.X(null),this._sucursal=new p.X(null),this._sucursales=new p.X(null),this._tags=new p.X(null),this._vendors=new p.X(null),this._apiHost=E.N.apiUrl+"/core/v1"}get pagination$(){return this._pagination.asObservable()}get sucursal$(){return this._sucursal.asObservable()}get sucursales(){return this._sucursales.asObservable()}get tiposSucursal$(){return this._tiposSucursal.asObservable()}getSucursales(e=0,r=10,_="sucursal",a="asc",n=""){return this._httpClient.get(this._apiHost+"/adm/cat/sucursales",{params:{page:""+e,size:""+r,sort:_,order:a,search:n}}).pipe((0,P.b)(t=>{this._pagination.next(t.paginacion),this._sucursales.next(t.productos)}))}getSucursalById(e){return this._sucursales.pipe((0,v.q)(1),(0,h.U)(r=>{const _=r.find(a=>a.id===e)||null;return this._sucursal.next(_),_}),(0,o.w)(r=>r?(0,O.of)(r):(0,u._)("Could not found product with id of "+e+"!")))}createSucursal(){return this.sucursales.pipe((0,v.q)(1),(0,o.w)(e=>this._httpClient.post(this._apiHost+"/adm/cat/sucursales",{empresa:this._userService.userO.empresa}).pipe((0,h.U)(r=>(this._sucursales.next([r,...e]),r)))))}updateSucursal(e,r){return r.empresa=this._userService.userO.empresa,this.sucursales.pipe((0,v.q)(1),(0,o.w)(_=>this._httpClient.patch(this._apiHost+"/adm/cat/sucursales",r).pipe((0,h.U)(a=>{const n=_.findIndex(t=>t.id===e);return _[n]=a,this._sucursales.next(_),a}),(0,o.w)(a=>this.sucursal$.pipe((0,v.q)(1),(0,d.h)(n=>n&&n.id===e),(0,P.b)(()=>(this._sucursal.next(a),a)))))))}deleteSucursal(e){return this.sucursales.pipe((0,v.q)(1),(0,o.w)(r=>this._httpClient.delete(this._apiHost+"/adm/cat/sucursales/"+e).pipe((0,h.U)(_=>{const a=r.findIndex(n=>n.id===e);return r.splice(a,1),this._sucursales.next(r),_}))))}getTiposSucursal(){return this._httpClient.get(this._apiHost+"/adm/cat/tipos-sucursal").pipe((0,P.b)(e=>{this._tiposSucursal.next(e)}))}getSucursalOnline(e){return this._httpClient.get(this._apiHost+"/adm/cat/sucursales/"+e).pipe((0,P.b)(r=>{this._sucursal.next(r)}))}}l.\u0275fac=function(e){return new(e||l)(i.LFG(f.eN),i.LFG(M.K))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})},7265:(R,g,s)=>{s.d(g,{mr:()=>d});var p=s(262),P=s(2843),v=s(4650),h=s(7400),o=s(9132);class u{constructor(i,f){this._inventoryService=i,this._router=f}resolve(i,f){return this._inventoryService.getProductById(i.paramMap.get("id")).pipe((0,p.K)(M=>{console.error(M);const l=f.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(l),(0,P._)(M)}))}}u.\u0275fac=function(i){return new(i||u)(v.LFG(h.I),v.LFG(o.F0))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"});class O{constructor(i){this._inventoryService=i}resolve(i,f){return this._inventoryService.getProducts(0,10,"producto","asc","",i.paramMap.get("id"))}}O.\u0275fac=function(i){return new(i||O)(v.LFG(h.I))},O.\u0275prov=v.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"});class d{constructor(i){this._inventoryService=i}resolve(i,f){return this._inventoryService.getBranches()}}d.\u0275fac=function(i){return new(i||d)(v.LFG(h.I))},d.\u0275prov=v.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})},7400:(R,g,s)=>{s.d(g,{I:()=>l});var p=s(2340),P=s(1135),v=s(8505),h=s(5698),o=s(4004),u=s(3900),O=s(2843),d=s(9646),E=s(9300),i=s(4650),f=s(529),M=s(7495);class l{constructor(e,r){this._httpClient=e,this._userService=r,this._pagination=new P.X(null),this._product=new P.X(null),this._products=new P.X(null),this._branches=new P.X(null),this._apiHost=p.N.apiUrl+"/business/v1",this._apiHostCore=p.N.apiUrl+"/core/v1",this.isBranchesLoaded=!1}get pagination$(){return this._pagination.asObservable()}get product$(){return this._product.asObservable()}get products$(){return this._products.asObservable()}get branches$(){return this._branches.asObservable()}getProducts(e=0,r=10,_="name",a="asc",n="",t="0"){return this._httpClient.get(this._apiHost+"/opr/inventario/"+t,{params:{page:""+e,size:""+r,sort:_,order:a,search:n}}).pipe((0,v.b)(c=>{this._pagination.next(c.paginacion),this._products.next(c.productos)}))}getProductById(e){return this._products.pipe((0,h.q)(1),(0,o.U)(r=>{const _=r.find(a=>a.id===e)||null;return this._product.next(_),_}),(0,u.w)(r=>r?(0,d.of)(r):(0,O._)("Could not found product with id of "+e+"!")))}createProduct(){return this.products$.pipe((0,h.q)(1),(0,u.w)(e=>this._httpClient.post(this._apiHostCore+"/opr/inventario",{inventario:{stock:0,empresa:this._userService.userO.empresa}}).pipe((0,o.U)(r=>(this._products.next([r,...e]),r)))))}updateProduct(e,r){return r.empresa=this._userService.userO.empresa,this.products$.pipe((0,h.q)(1),(0,u.w)(_=>this._httpClient.patch(this._apiHost+"/opr/inventario",r).pipe((0,o.U)(a=>{const n=_.findIndex(t=>t.id===e);return _[n]=a,this._products.next(_),a}),(0,u.w)(a=>this.product$.pipe((0,h.q)(1),(0,E.h)(n=>n&&n.id===e),(0,v.b)(()=>(this._product.next(a),a)))))))}deleteProduct(e){return this.products$.pipe((0,h.q)(1),(0,u.w)(r=>this._httpClient.delete(this._apiHostCore+"/opr/inventario/"+e).pipe((0,o.U)(_=>{const a=r.findIndex(n=>n.id===e);return r.splice(a,1),this._products.next(r),_}))))}getBranches(){if(!this.isBranchesLoaded)return this._httpClient.get(this._apiHostCore+"/adm/cat/sucursales-list").pipe((0,v.b)(e=>{this.isBranchesLoaded=!0,this._branches.next(e)}))}}l.\u0275fac=function(e){return new(e||l)(i.LFG(f.eN),i.LFG(M.K))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}}]);